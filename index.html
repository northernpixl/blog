<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NorthernPixl | Northumberland Photography Guide</title>
    
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700;900&display=swap');
        body { font-family: 'Inter', sans-serif; -webkit-font-smoothing: antialiased; }
        
        .custom-scrollbar::-webkit-scrollbar { width: 6px; }
        .custom-scrollbar::-webkit-scrollbar-thumb { background-color: #e2e8f0; border-radius: 10px; }
        
        .animate-in { animation: fadeIn 0.6s ease-out forwards; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(15px); } to { opacity: 1; transform: translateY(0); } }

        /* Map Container Styling */
        .leaflet-container {
            width: 100%;
            height: 100%;
            background: #f8fafc;
            border-radius: 3rem;
            z-index: 10;
        }
    </style>
</head>
<body class="bg-white text-slate-900 overflow-x-hidden">
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useMemo, useEffect, useRef } = React;

        // --- ICON COMPONENT ---
        const Icon = ({ name, size = 20, className = "" }) => {
            const icons = {
                camera: <><path d="M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z"/><circle cx="12" cy="13" r="3"/></>,
                mapPin: <><path d="M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z"/><circle cx="12" cy="10" r="3"/></>,
                x: <><path d="M18 6 6 18"/><path d="m6 6 12 12"/></>,
                book: <path d="M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H20v20H6.5a2.5 2.5 0 0 1-2.5-2.5Z"/>
            };
            return (
                <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}>
                    {icons[name] || null}
                </svg>
            );
        };

        // --- DATA LOCATIONS (29 Locations) ---
        const LOCATIONS = [
            { id: 1, name: "Bamburgh Castle", type: "Landscape", lat: 55.6090, lng: -1.7120, desc: "The crown jewel. Capture reflections in the 'Black Rocks' pools at low tide.", parking: "NE69 7DF", difficulty: "Easy", history: "Originally the Anglo-Saxon citadel of Bebbanburgh. First castle in England to fall to gunpowder (1464).", fact: "Owned by the Armstrong family since 1894." },
            { id: 2, name: "Dunstanburgh Castle", type: "Landscape", lat: 55.4915, lng: -1.5947, desc: "A haunting ruin accessible only by foot. Dramatic silhouettes at sunrise.", parking: "NE66 3TW", difficulty: "Moderate", history: "Built in 1313. A major fortress during the Wars of the Roses.", fact: "Turner painted this castle multiple times due to its melancholic isolation." },
            { id: 4, name: "Lindisfarne Castle", type: "Landscape", lat: 55.6694, lng: -1.7856, desc: "A 16th-century castle on Holy Island. Accessible only at low tide.", parking: "TD15 2RX", difficulty: "Easy", history: "Site of the first Viking raid in 793 AD.", fact: "Renovated by Sir Edwin Lutyens in the early 1900s." },
            { id: 5, name: "St Mary's Island", lat: 55.0717, lng: -1.4496, type: "Landscape", desc: "White lighthouse on a tidal island. Use long exposure for misty water.", parking: "NE26 4RS", difficulty: "Easy", history: "Originally a medieval chapel. The lighthouse operated until 1984.", fact: "Connected to the mainland by a concrete causeway submerged at high tide." },
            { id: 6, name: "Farne Islands", type: "Wildlife", lat: 55.6178, lng: -1.6314, desc: "Home to thousands of Puffins. Telephoto lens essential.", parking: "Seahouses", difficulty: "Moderate", history: "Home of St. Cuthbert (hermit) and Grace Darling's rescue (1838).", fact: "Hosts over 150,000 seabirds during breeding season." },
            { id: 7, name: "Coquet Island", type: "Wildlife", lat: 55.3340, lng: -1.5372, desc: "Famous for the rare Roseate Tern. Boat trips from Amble required.", parking: "NE65 0AP", difficulty: "Moderate", history: "Features ruins of a Benedictine cell.", fact: "Holds 90% of the UK's Roseate Tern population." },
            { id: 8, name: "Chillingham Park", type: "Wildlife", lat: 55.5262, lng: -1.9054, desc: "Home to the Wild Cattle, rarer than giant pandas.", parking: "NE66 5NJ", difficulty: "Moderate", history: "Enclosed since the 13th century, keeping the bloodline pure.", fact: "The only wild cattle in the world never domesticated." },
            { id: 9, name: "Kielder Water", type: "Wildlife", lat: 55.2330, lng: -2.5330, desc: "Look for Ospreys and Red Squirrels around the lake.", parking: "NE48 1BT", difficulty: "Easy", history: "Valley flooded in 1981 to create Northern Europe's largest man-made lake.", fact: "A major stronghold for the Red Squirrel." },
            { id: 11, name: "Kielder Observatory", type: "Astro", lat: 55.2369, lng: -2.6105, desc: "Gold-Tier Dark Sky Park. Best place for the Milky Way.", parking: "NE48 1EJ", difficulty: "Moderate", history: "Opened in 2008, designed to look like a ship sailing off a pier.", fact: "Northumberland has the largest Dark Sky Park in Europe." },
            { id: 12, name: "Cawfields Quarry", type: "Astro", lat: 54.9967, lng: -2.4645, desc: "Dark Sky Discovery Site. The water reflects stars perfectly.", parking: "NE49 9PJ", difficulty: "Easy", history: "A former dolerite quarry on the Whin Sill.", fact: "Best place to see the Andromeda Galaxy with the naked eye." },
            { id: 15, name: "Dunstan Steads", type: "Astro", lat: 55.4988, lng: -1.6112, desc: "Prime spot for the Northern Lights (Aurora) looking North.", parking: "NE66 3SY", difficulty: "Moderate", history: "Coastline heavily fortified during WWII.", fact: "Clear northern horizon makes it ideal for Aurora hunting." },
            { id: 16, name: "Alnwick Castle", type: "Landscape", lat: 55.4156, lng: -1.7059, desc: "The 'Harry Potter' castle. Shoot from the Lion Bridge for the best angle.", parking: "NE66 1YU", difficulty: "Easy", history: "Seat of the Duke of Northumberland since 1309. The second largest inhabited castle in England.", fact: "Used as Hogwarts in the first two Harry Potter films." },
            { id: 17, name: "Cragside House", type: "Landscape", lat: 55.3134, lng: -1.8845, desc: "Victorian architecture amidst massive rhododendrons. Use the Iron Bridge for framing.", parking: "NE65 7PX", difficulty: "Moderate", history: "Built by Lord Armstrong, a Victorian inventor and industrialist.", fact: "The first house in the world to be lit by hydroelectric power." },
            { id: 18, name: "Housesteads Roman Fort", type: "Landscape", lat: 55.0135, lng: -2.3283, desc: "The most complete Roman fort in Britain. Dramatic views along the Wall.", parking: "NE47 6NN", difficulty: "Moderate", history: "Built around 124 AD, it housed 800 Roman soldiers.", fact: "Features the best-preserved Roman latrines (toilets) in Britain." },
            { id: 19, name: "Blyth Beach Huts", type: "Landscape", lat: 55.1207, lng: -1.5034, desc: "Vibrant, colorful beach huts. Perfect for symmetrical, architectural shots.", parking: "NE24 3PL", difficulty: "Easy", history: "Part of the modern regeneration of the Blyth coastline.", fact: "The huts are named after local wildlife and historical figures." },
            { id: 20, name: "Northumberlandia", type: "Landscape", lat: 55.0934, lng: -1.6288, desc: "A massive human landform sculpture. Best shot with a drone or from the viewing point.", parking: "NE23 8AU", difficulty: "Moderate", history: "Completed in 2012, designed by Charles Jencks.", fact: "Made of 1.5 million tonnes of rock/soil, she is the 'Lady of the North'." },
            { id: 21, name: "Linhope Spout", type: "Landscape", lat: 55.4437, lng: -2.0634, desc: "A spectacular 18m chute waterfall. Requires a fast shutter to freeze, or slow to blur.", parking: "NE66 4LZ", difficulty: "Hard", history: "Located in the Breamish Valley, an area rich in Bronze Age archaeology.", fact: "Local legend claims the plunge pool is bottomless." },
            { id: 22, name: "Twizell Castle", type: "Landscape", lat: 55.6835, lng: -2.1895, desc: "An 18th-century unfinished 'folly'. Dramatic gothic arches.", parking: "TD15 2PS", difficulty: "Easy", history: "Begun in 1770 but never completed. It sits on a bend of the River Till.", fact: "It was built inside the walls of a genuine medieval castle." },
            { id: 23, name: "Simonside Hills", type: "Landscape", lat: 55.2890, lng: -1.9480, desc: "360-degree views of the Cheviots. Heather glows purple in late summer.", parking: "NE65 7NW", difficulty: "Moderate", history: "Steeped in folklore, said to be the home of 'duergar' (dwarves).", fact: "Offers one of the best sunset viewpoints in the entire county." },
            { id: 24, name: "Cresswell Pond", type: "Wildlife", lat: 55.2289, lng: -1.5434, desc: "A brackish lagoon. Excellent for Avocets and migrating waders.", parking: "NE61 5LF", difficulty: "Easy", history: "Formed by mining subsidence, now a protected Northumberland Wildlife Trust reserve.", fact: "Regularly hosts rare birds blown off course from America or Siberia." },
            { id: 25, name: "Holystone Woods", type: "Wildlife", lat: 55.3235, lng: -2.0678, desc: "Native oak woodland. Quiet patience yields Red Squirrels and Roe Deer.", parking: "NE65 7AJ", difficulty: "Moderate", history: "Associated with St. Ninian and the early spread of Christianity.", fact: "Managed by Forestry England specifically for Red Squirrel conservation." },
            { id: 26, name: "The Cheviot", type: "Wildlife", lat: 55.4795, lng: -2.1466, desc: "The highest point. Look for Mountain Hares in winter coats and Red Grouse.", parking: "NE71 6RJ", difficulty: "Hard", history: "An extinct volcano that was active 390 million years ago.", fact: "At 815m, it is the highest summit in Northumberland." },
            { id: 27, name: "Hareshaw Linn", type: "Wildlife", lat: 55.1557, lng: -2.2420, desc: "A damp, ancient ravine. Look for Dippers, Woodpeckers, and rare ferns.", parking: "NE48 2BZ", difficulty: "Moderate", history: "Once the site of a busy ironworks, now reclaimed by nature.", fact: "Home to over 300 species of lichen, moss, and liverwort." },
            { id: 28, name: "Elf Kirk Viewpoint", type: "Astro", lat: 55.2045, lng: -2.5367, desc: "Deep in Kielder Forest. A designated Dark Sky Discovery Site.", parking: "NE48 1HX", difficulty: "Easy", history: "Named after the 'Elf Kirk' rock formation visible from the site.", fact: "Offers panoramic views of the sky with almost zero light pollution." },
            { id: 29, name: "Wooler Common", type: "Astro", lat: 55.5412, lng: -2.0345, desc: "On the edge of the National Park. Great low horizons for Northern Lights.", parking: "NE71 6RL", difficulty: "Easy", history: "An area of ancient common land used for grazing for centuries.", fact: "A surprisingly dark site despite being close to the town of Wooler." },
            { id: 30, name: "Stonehaugh Pavilion", type: "Astro", lat: 55.0877, lng: -2.3166, desc: "A dedicated stargazing structure. Great foreground for star trails.", parking: "NE48 3DZ", difficulty: "Easy", history: "Designed and built by architecture students from Newcastle University.", fact: "The structure frames specific constellations depending on where you stand." }
        ];

        // --- UPDATED GUIDES WITH SPECIFIC FUNDAMENTALS & IMPACT ---
        const GUIDES = [
            { 
                id: 1, title: "The Exposure Triangle", cat: "Basics", time: "12 min", 
                fundamentals: "1. Aperture (f/stop): Controls the opening of the lens. Low numbers (f/2.8) let in more light and blur the background. High numbers (f/16) keep everything in focus but darken the image. \n2. Shutter Speed: Controls motion. Fast speeds (1/1000s) freeze birds in flight. Slow speeds (1/10s or longer) blur waterfalls. \n3. ISO: The sensor's sensitivity. ISO 100 provides the cleanest image. ISO 3200 allows shooting in the dark but introduces 'noise' (grain). \n\nINSTRUCTION: Set your camera to Manual (M). Adjust your Aperture first based on your creative goal (depth of field), then your Shutter for motion, and finally ISO to balance the brightness.",
                impact: "Understanding this balance prevents you from relying on 'Auto' mode, which often guesses wrong in high-contrast scenes like a sunset over Bamburgh Castle. It gives you full creative authority over how light is recorded."
            },
            { 
                id: 2, title: "Long Exposure Mastery", cat: "Technique", time: "15 min", 
                fundamentals: "1. Stability: Mount your camera on a sturdy tripod. Turn off 'Image Stabilization' on your lens (it causes blur when tripod-mounted). \n2. Filtration: Attach a Neutral Density (ND) filter (6-stop or 10-stop) to block light. \n3. Settings: Switch to Bulb mode or set a shutter speed of 10-30 seconds. Use a remote shutter release or the 2-second timer to avoid shaking the camera when pressing the button. \n4. Cover the Viewfinder: If using a DSLR, cover the viewfinder to prevent light leaking in.",
                impact: "This technique transforms choppy, messy waves into a smooth, ethereal mist. It simplifies the composition by removing the distraction of chaotic water texture, drawing the viewer's eye to the static subjects like the lighthouse or rocks."
            },
            { 
                id: 3, title: "Composition: Rule of Thirds", cat: "Art", time: "10 min", 
                fundamentals: "1. The Grid: Enable the 3x3 grid overlay in your camera settings. \n2. Placement: Do not place the horizon in the middle. Place it on the bottom line to emphasize the sky, or the top line to emphasize the foreground. \n3. Intersections: Place key points of interest (the castle, a tree, the sun) exactly where the vertical and horizontal lines cross. \n4. Breathing Room: If a subject (like a bird) is looking to the right, place them on the left line so they are looking 'into' the empty space.",
                impact: "Centering everything creates a static, boring image. Using the Rule of Thirds creates 'tension' and balance, making the image feel dynamic and naturally pleasing to the human eye."
            },
            { 
                id: 4, title: "Astro: Focusing in the Dark", cat: "Astro", time: "11 min", 
                fundamentals: "1. Manual Mode: Switch your lens to Manual Focus (MF). Autofocus will hunt and fail in the dark. \n2. Live View: Turn on your rear LCD screen. Bump your ISO to 6400 just for framing. \n3. Zoom: Find the brightest star or distant light. Use the digital zoom button (magnifying glass) on the camera body to zoom in on the LCD (not the lens zoom). \n4. Fine Tune: Rotate the focus ring slowly until the blob of light becomes a tiny, sharp pin-prick. \n5. Tape it: Use gaffer tape to hold the focus ring in place so you don't accidentally move it.",
                impact: "A slightly out-of-focus star looks like a blurry blob, ruining the entire shoot. Pin-sharp stars maximize the brightness and clarity of the Milky Way, allowing faint details to register on the sensor."
            },
            { 
                id: 5, title: "Wildlife: Shutter Priority", cat: "Wildlife", time: "13 min", 
                fundamentals: "1. Mode Dial: Switch to Shutter Priority (Tv or S). \n2. Speed Selection: For flying birds (puffins), select 1/1600s or 1/2000s. For walking animals (deer), 1/500s is usually sufficient. \n3. Auto ISO: Enable Auto ISO. This allows the camera to automatically brighten the image as you force a fast shutter speed. \n4. Burst Mode: Set your drive mode to 'High Speed Continuous' to take multiple frames per second.",
                impact: "Wildlife is unpredictable and fast. Prioritizing shutter speed ensures you never return home with a blurry photo of a rare animal. Sharpness is the most critical metric in wildlife photography."
            },
            { 
                id: 6, title: "Understanding the Histogram", cat: "Tools", time: "10 min", 
                fundamentals: "1. Access: Press 'Info' or 'Display' until the graph appears on your screen. \n2. Reading: The left side represents blacks (shadows), the right side represents whites (highlights). The middle is mid-tones. \n3. The Goal: You want a 'mountain' in the middle. \n4. Warning Signs: If the graph is cut off on the right ('climbing the wall'), your highlights are blown out and unrecoverable. Lower your exposure. If it climbs the left wall, your shadows are pure black noise. Increase exposure.",
                impact: "Your camera's LCD screen lies to you; its brightness changes based on ambient light. The histogram is a mathematical representation of data. Relying on it ensures you capture the maximum amount of detail in both the sky and the land."
            },
            { 
                id: 7, title: "The Power of RAW Files", cat: "Tools", time: "10 min", 
                fundamentals: "1. Menu Setting: Go to Image Quality and select 'RAW' or 'RAW + JPEG'. \n2. The Difference: A JPEG file is compressed; the camera decides contrast and color and throws away the rest of the data. A RAW file keeps 100% of the sensor data. \n3. Storage: Buy larger SD cards. RAW files are 3-4x larger than JPEGs. \n4. Workflow: You must process RAW files in software like Lightroom or Capture One; they will look flat and dull straight out of camera.",
                impact: "Northumberland landscapes have high dynamic range (bright skies, dark rocks). RAW files allow you to recover details from deep shadows and bright highlights that would be completely lost and white/black in a JPEG."
            },
            { 
                id: 8, title: "Golden Hour vs Blue Hour", cat: "Landscape", time: "12 min", 
                fundamentals: "1. Golden Hour: Occurs roughly 1 hour after sunrise and 1 hour before sunset. The sun is low, casting long shadows and warm, gold/orange light. Best for textures and warmth. \n2. Blue Hour: Occurs roughly 30-40 minutes *before* sunrise and *after* sunset. The sun is below the horizon. The light is soft, diffuse, and deep blue/purple. \n3. Planning: Use an app like PhotoPills to know exactly when these phases start and end at your specific location.",
                impact: "Light is the medium of photography. Shooting at noon creates harsh, unflattering contrast. Shooting during these 'magic hours' provides natural color contrast and emotion that no filter or editing can replicate."
            },
            { 
                id: 9, title: "White Balance Basics", cat: "Basics", time: "10 min", 
                fundamentals: "1. Auto WB (AWB): Good for general use, but can neutralize beautiful sunsets (making them look grey). \n2. Presets: Use 'Cloudy' or 'Shade' (approx 6000K-7000K) to warm up a scene and enhance golden hour oranges. Use 'Tungsten' (3200K) to cool down a scene or correct indoor yellow lights. \n3. Kelvin (K): Learn to set the number manually. Lower numbers (3000K) add blue; higher numbers (7000K) add yellow/orange.",
                impact: "White Balance dictates the 'mood' of the photo. A cold, blue WB makes a castle look foreboding and wintry. A warm WB makes it look inviting and nostalgic. Correct WB ensures colors appear as the eye saw them."
            },
            { 
                id: 10, title: "Leading Lines & Symmetry", cat: "Art", time: "14 min", 
                fundamentals: "1. Finding Lines: Look for fences, walls (Hadrian's Wall), shorelines, roads, or rows of trees. \n2. Positioning: Position yourself so these lines start at the bottom corners of your frame and converge toward your main subject. \n3. Symmetry: Look for reflections in water (Cawfields Quarry). Place the horizon dead center to create a mirror image top-to-bottom.",
                impact: "Leading lines act as a visual highway, forcing the viewer to look exactly where you want them to. Symmetry creates a sense of calm, order, and grandeur, particularly effective in architectural and reflection photography."
            },
            { 
                id: 11, title: "Lens Focal Lengths", cat: "Basics", time: "10 min", 
                fundamentals: "1. Wide Angle (14mm-24mm): Exaggerates the foreground. Ideally, get low and close to a rock or flower. Makes distant mountains look smaller. \n2. Standard (35mm-50mm): Replicates the human eye. Neutral and honest. \n3. Telephoto (70mm-200mm+): 'Compresses' the scene. It makes the background (like a castle or moon) appear gigantic relative to the foreground. Ideal for isolating details.",
                impact: "Focal length isn't just about 'zooming in'. It changes the spatial relationship between objects. Using a telephoto lens can make Bamburgh Castle look like it's towering directly over the dunes, creating a more dramatic sense of scale."
            },
            { 
                id: 12, title: "Metering Modes Explained", cat: "Tools", time: "10 min", 
                fundamentals: "1. Evaluative/Matrix: The camera looks at the whole frame. Good for 90% of shots. \n2. Spot Metering: The camera only measures light at the tiny center dot. Use this when your subject is backlit (like a bird against a bright sky). \n3. Center-Weighted: Prioritizes the middle of the frame but considers the edges. \n\nINSTRUCTION: If your subject is a white bird and the camera is making it grey, switch to Spot Metering or use Exposure Compensation (+1 or +2).",
                impact: "The camera wants to make everything 'middle grey'. If you are shooting snow or a bright sky, the camera will underexpose it. Choosing the right metering mode tells the camera which part of the scene matters most."
            },
            { 
                id: 13, title: "Post-Processing 101", cat: "Editing", time: "15 min", 
                fundamentals: "1. Global Adjustments: Start with Exposure and White Balance. Then adjust Contrast. \n2. Shadows/Highlights: Bring down Highlights to recover sky detail. Lift Shadows to reveal dark rocks. \n3. Clarity/Texture: Use sparingly to add 'crunch' to rocks, but avoid using on faces or water. \n4. Saturation vs Vibrance: Use Vibrance. It boosts muted colors without oversaturating skin tones or already-bright colors.",
                impact: "Editing is the digital darkroom. It allows you to guide the viewer's eye by brightening the subject and darkening the edges (vignetting), and to restore the contrast that the flat RAW file lacks."
            },
            { 
                id: 14, title: "Weather Sealing & Gear Care", cat: "Tools", time: "10 min", 
                fundamentals: "1. Salt Spray: The enemy. Wipe your lens and body with a damp cloth (fresh water) immediately after shooting at the coast. Salt corrodes electronics. \n2. Changing Lenses: Never change lenses facing the wind. Point the camera body down to prevent dust entering the sensor. \n3. Rain Covers: A simple plastic bag with a hole for the lens is better than nothing. \n4. Condensation: When moving from cold air to a warm car/house, keep the camera in your bag for 30 mins to acclimatize slowly.",
                impact: "Northumberland is rugged. Equipment failure stops the shoot. Proper care ensures your expensive gear lasts for years and performs when that critical moment of light happens."
            },
            { 
                id: 15, title: "The Bokeh Effect", cat: "Art", time: "10 min", 
                fundamentals: "1. Aperture: Open the lens to its widest setting (f/1.8, f/2.8). \n2. Distance Ratio: Get as close to your subject as possible, while keeping the background as far away as possible. \n3. Focal Length: Use a longer lens (85mm or longer). \n4. Lights: Background points of light (sun filtering through trees) will turn into pleasing soft circles.",
                impact: "Bokeh separates the subject from a cluttered background. It simplifies the image and adds a romantic, professional quality, making the subject 'pop' in 3D-like relief."
            },
            { 
                id: 16, title: "Star Trails Technique", cat: "Astro", time: "12 min", 
                fundamentals: "1. Setup: North-facing composition works best (stars rotate around Polaris). \n2. Settings: f/2.8 or f/4, ISO 800-1600. \n3. Shooting: Take continuous 30-second exposures for at least 1 hour (approx 120 photos). Turn off 'Long Exposure Noise Reduction' as it creates gaps in the trails. \n4. Post: Use software like StarStaX to 'stack' these images, blending the movement into long streaks.",
                impact: "Star trails visualize the rotation of the Earth. They create a dynamic, surreal image from a static scene and are perfect for locations with interesting foreground architecture like Stonehaugh Pavilion."
            },
            { 
                id: 17, title: "Back-Button Focus", cat: "Wildlife", time: "10 min", 
                fundamentals: "1. The Concept: Remove the focus function from the shutter button. Assign it to the 'AF-ON' or '*' button on the back of the camera. \n2. The Benefit: You can keep focusing continuously (AI-Servo) by holding the back button, but stop focusing instantly by letting go, without taking a photo. \n3. Setup: Go to your camera's Custom Controls menu to reassign the shutter button to 'Metering Start' only.",
                impact: "This decouples focusing from shooting. It allows you to switch instantly between tracking a moving subject and locking focus on a static one without changing modes. It is the standard for professional wildlife photographers."
            },
            { 
                id: 18, title: "Circular Polarizers", cat: "Tools", time: "10 min", 
                fundamentals: "1. Purpose: Cuts glare and reflections from non-metallic surfaces (water, wet leaves, glass). \n2. Usage: Screw it onto the lens. Rotate the outer ring while looking through the viewfinder. You will see the reflections disappear and reappear. \n3. The Angle: Works best when shooting at a 90-degree angle to the sun. It has little effect shooting directly into or away from the sun.",
                impact: "This is the only filter effect that cannot be replicated in Photoshop. It reveals the rocks under the water's surface and deepens the blue of the sky, adding instant punch and clarity to landscape shots."
            },
            { 
                id: 19, title: "Panoramic Stitching", cat: "Landscape", time: "11 min", 
                fundamentals: "1. Orientation: Shoot vertically (portrait orientation). This gives you more vertical resolution (sky and ground). \n2. Overlap: Overlap each shot by 30-40%. \n3. Settings: Use Manual Mode. Focus, White Balance, and Exposure MUST be identical for every shot, or the stitch will look weird. \n4. Pivot: Rotate the camera around the lens (nodal point), not your body, to avoid parallax errors.",
                impact: "Allows you to capture vast vistas (like the Cheviots) that are too wide for even a wide-angle lens, creating massive high-resolution files suitable for large wall prints."
            },
            { 
                id: 20, title: "Ethics of Wildlife Photography", cat: "Wildlife", time: "10 min", 
                fundamentals: "1. The Rule: The welfare of the animal always comes before the photograph. \n2. Distance: If the animal changes its behavior (looks at you, stops eating, moves away), you are too close. Back off. \n3. Nests: Never disturb a nest or breeding site. It can cause parents to abandon their young. \n4. Baiting: Never use live bait. Avoid food baiting as it habituates animals to humans, putting them in danger.",
                impact: "Ethical photography ensures that the wildlife of Northumberland survives for future generations. An authentic shot of natural behavior is always more powerful than a stressed or baited animal staring at the lens."
            }
        ];

        // --- MAP COMPONENT (LEAFLET) ---
        const LeafletMap = ({ onSelect, selectedLoc }) => {
            const mapContainerRef = useRef(null);
            const mapInstanceRef = useRef(null);
            const markersRef = useRef({});

            useEffect(() => {
                if (!mapInstanceRef.current) {
                    mapInstanceRef.current = L.map(mapContainerRef.current, {
                        zoomControl: false,
                        scrollWheelZoom: true,
                    }).setView([55.25, -2.0], 9);

                    L.tileLayer('https://{s}.basemaps.cartocdn.com/rastertiles/voyager/{z}/{x}/{y}{r}.png', {
                        attribution: '&copy; OpenStreetMap &copy; CARTO',
                        subdomains: 'abcd',
                        maxZoom: 19
                    }).addTo(mapInstanceRef.current);
                    
                    L.control.zoom({ position: 'bottomright' }).addTo(mapInstanceRef.current);
                }

                // Add Markers
                LOCATIONS.forEach(loc => {
                    if (!markersRef.current[loc.id]) {
                        const color = loc.type === 'Landscape' ? '#0ea5e9' : (loc.type === 'Wildlife' ? '#16a34a' : '#9333ea');
                        const circle = L.circleMarker([loc.lat, loc.lng], {
                            radius: 8,
                            fillColor: color,
                            color: "#fff",
                            weight: 3,
                            opacity: 1,
                            fillOpacity: 1
                        }).addTo(mapInstanceRef.current);

                        circle.bindTooltip(`<span style="font-weight: 900; text-transform: uppercase; font-size: 10px;">${loc.name}</span>`, {
                            permanent: false,
                            direction: 'top',
                            offset: [0, -10]
                        });

                        circle.on('click', () => onSelect(loc));
                        markersRef.current[loc.id] = circle;
                    }
                });
            }, []);

            useEffect(() => {
                if(selectedLoc && mapInstanceRef.current) {
                    mapInstanceRef.current.flyTo([selectedLoc.lat, selectedLoc.lng], 11, { duration: 1.5 });
                }
            }, [selectedLoc]);

            return <div ref={mapContainerRef} className="leaflet-container shadow-inner border border-slate-200" />;
        };

        // --- MAIN APP COMPONENT ---
        const App = () => {
            const [activeTab, setActiveTab] = useState('home');
            const [selectedLoc, setSelectedLoc] = useState(null);
            const [selectedTopic, setSelectedTopic] = useState(null);

            return (
                <div className="min-h-screen bg-white">
                    <nav className="fixed top-0 w-full z-50 bg-white/90 backdrop-blur-md border-b border-slate-100 h-20 flex items-center justify-between px-8">
                        <div className="flex items-center space-x-3 cursor-pointer group" onClick={() => setActiveTab('home')}>
                            <div className="w-10 h-10 bg-slate-900 rounded-xl flex items-center justify-center transition-transform group-hover:rotate-6">
                                <Icon name="camera" className="text-white" size={18} />
                            </div>
                            <span className="font-black text-xl tracking-tighter uppercase">NorthernPixl</span>
                        </div>
                        <div className="hidden md:flex space-x-10 text-[11px] font-black uppercase tracking-[0.2em] text-slate-400">
                            {['locations', 'learn'].map(t => (
                                <button key={t} onClick={() => setActiveTab(t)} className={`hover:text-black transition-colors ${activeTab === t ? 'text-black' : ''}`}>
                                    {t}
                                </button>
                            ))}
                        </div>
                        <div className="w-10 md:hidden" />
                    </nav>

                    <main className="pt-20">
                        {activeTab === 'home' && (
                            <section className="min-h-[90vh] flex flex-col items-center justify-center text-center px-6 bg-slate-900 text-white relative overflow-hidden">
                                <div className="absolute inset-0 opacity-20 bg-[radial-gradient(#cbd5e1_1px,transparent_1px)] [background-size:30px_30px]" />
                                <div className="relative z-10 max-w-4xl animate-in">
                                    <h1 className="text-7xl md:text-9xl font-black tracking-tighter leading-none mb-8">
                                        NORTHERN <br/> <span className="text-sky-500">EXPOSURE.</span>
                                    </h1>
                                    <p className="text-xl text-slate-400 max-w-2xl mx-auto mb-12">
                                        The definitive guide for photographers. 29 iconic locations and 20+ masterclasses designed for the Northumberland wilderness.
                                    </p>
                                    <div className="flex flex-col sm:flex-row gap-4 justify-center">
                                        <button onClick={() => setActiveTab('locations')} className="bg-white text-black px-10 py-5 rounded-full font-black uppercase text-xs tracking-widest hover:bg-sky-500 hover:text-white transition-all">Explore Map</button>
                                        <button onClick={() => setActiveTab('learn')} className="bg-slate-800 text-white border border-white/10 px-10 py-5 rounded-full font-black uppercase text-xs tracking-widest hover:bg-slate-700 transition-all">Start Learning</button>
                                    </div>
                                </div>
                            </section>
                        )}

                        {activeTab === 'locations' && (
                            <section className="max-w-7xl mx-auto px-6 py-20 animate-in">
                                <div className="mb-12">
                                    <h2 className="text-5xl font-black uppercase tracking-tighter">Location Scout</h2>
                                    <p className="text-slate-500">Interactive Map. Select a marker to view detailed history and photography tips.</p>
                                </div>

                                <div className="grid lg:grid-cols-12 gap-12 h-[800px] lg:h-[600px]">
                                    <div className="lg:col-span-8 h-full rounded-[3rem] overflow-hidden relative shadow-2xl">
                                        <LeafletMap onSelect={setSelectedLoc} selectedLoc={selectedLoc} />
                                        <div className="absolute top-6 left-6 z-[400] bg-white/90 backdrop-blur px-4 py-2 rounded-xl text-[10px] font-black uppercase tracking-widest shadow-sm">Northumberland</div>
                                    </div>

                                    <div className="lg:col-span-4 bg-white rounded-[3rem] p-10 border border-slate-100 shadow-xl flex flex-col justify-center h-full overflow-y-auto custom-scrollbar">
                                        {selectedLoc ? (
                                            <div className="space-y-6 animate-in">
                                                <div className="flex justify-between items-start">
                                                    <span className={`text-[10px] font-black uppercase tracking-widest px-2 py-1 rounded text-white ${selectedLoc.type === 'Landscape' ? 'bg-sky-500' : (selectedLoc.type === 'Wildlife' ? 'bg-green-600' : 'bg-purple-600')}`}>
                                                        {selectedLoc.type}
                                                    </span>
                                                    <span className="text-[10px] font-black uppercase text-slate-400">Diff: {selectedLoc.difficulty}</span>
                                                </div>
                                                <h3 className="text-4xl font-black tracking-tight">{selectedLoc.name}</h3>
                                                
                                                <div className="space-y-4">
                                                    <div>
                                                        <h4 className="text-[10px] font-black uppercase text-slate-400 mb-1">History</h4>
                                                        <p className="text-xs text-slate-600 leading-relaxed">{selectedLoc.history}</p>
                                                    </div>
                                                    <div>
                                                        <h4 className="text-[10px] font-black uppercase text-slate-400 mb-1">Did You Know?</h4>
                                                        <p className="text-xs text-slate-600 leading-relaxed italic border-l-2 border-slate-200 pl-3">{selectedLoc.fact}</p>
                                                    </div>
                                                </div>

                                                <div className="pt-6 border-t border-slate-100 space-y-4">
                                                    <div className="bg-slate-50 p-4 rounded-2xl">
                                                        <p className="text-[9px] font-black uppercase text-slate-400 tracking-widest mb-1">Photo Opportunity</p>
                                                        <p className="text-sm font-bold text-slate-700 leading-snug">{selectedLoc.desc}</p>
                                                    </div>
                                                    <div>
                                                        <p className="text-[9px] font-black uppercase text-slate-400 tracking-widest">Nav Sat / Parking</p>
                                                        <p className="text-sm font-bold text-slate-700">{selectedLoc.parking}</p>
                                                    </div>
                                                </div>
                                            </div>
                                        ) : (
                                            <div className="text-center space-y-4">
                                                <div className="w-16 h-16 bg-slate-50 rounded-full flex items-center justify-center mx-auto text-slate-300">
                                                    <Icon name="mapPin" size={24} />
                                                </div>
                                                <p className="text-slate-400 font-black uppercase tracking-widest text-xs">Select a marker to explore</p>
                                            </div>
                                        )}
                                    </div>
                                </div>
                            </section>
                        )}

                        {activeTab === 'learn' && (
                            <section className="max-w-7xl mx-auto px-6 py-20 animate-in">
                                <div className="mb-16">
                                    <h2 className="text-6xl font-black uppercase tracking-tighter">Learning Hub</h2>
                                    <p className="text-slate-500">20 essential guides for modern photography.</p>
                                </div>
                                <div className="grid md:grid-cols-2 lg:grid-cols-3 gap-8">
                                    {GUIDES.map(guide => (
                                        <div key={guide.id} onClick={() => setSelectedTopic(guide)} className="group bg-white border border-slate-100 p-10 rounded-[2.5rem] shadow-sm hover:shadow-xl hover:-translate-y-2 transition-all cursor-pointer">
                                            <div className="flex justify-between items-center mb-6">
                                                <span className="text-[10px] font-black uppercase tracking-[0.2em] text-sky-500">{guide.cat}</span>
                                                <span className="text-[9px] font-black text-slate-300">{guide.time} READ</span>
                                            </div>
                                            <h3 className="text-2xl font-black mb-4 group-hover:text-sky-500 transition-colors">{guide.title}</h3>
                                            <p className="text-slate-400 text-sm line-clamp-2 leading-relaxed">{guide.impact}</p>
                                        </div>
                                    ))}
                                </div>
                            </section>
                        )}
                    </main>

                    {selectedTopic && (
                        <div className="fixed inset-0 z-[100] bg-white overflow-y-auto animate-in custom-scrollbar">
                            <div className="max-w-4xl mx-auto px-8 py-20">
                                <button onClick={() => setSelectedTopic(null)} className="flex items-center space-x-2 text-slate-400 hover:text-black transition-colors mb-12 uppercase text-[10px] font-black tracking-widest">
                                    <Icon name="x" size={14} />
                                    <span>Back to Library</span>
                                </button>
                                <div className="space-y-4 mb-12">
                                    <span className="text-sky-500 font-black uppercase text-xs tracking-[0.3em]">{selectedTopic.cat}</span>
                                    <h2 className="text-6xl md:text-8xl font-black tracking-tighter leading-none">{selectedTopic.title}</h2>
                                    <p className="text-slate-400 font-bold uppercase text-[10px] tracking-widest">{selectedTopic.time} In-Depth Masterclass</p>
                                </div>
                                <div className="prose prose-slate max-w-none">
                                    <div className="bg-slate-50 p-8 rounded-3xl border-l-4 border-sky-500 mb-12 italic text-lg text-slate-600">
                                        "Photography is the art of observation. It has little to do with the things you see and everything to do with the way you see them. Mastering {selectedTopic.title} is your next step in that journey."
                                    </div>
                                    <h4 className="text-xl font-black uppercase tracking-tight mb-4 text-slate-900">1. Core Fundamentals & Instructions</h4>
                                    <p className="text-lg text-slate-600 leading-relaxed mb-8 whitespace-pre-line">{selectedTopic.fundamentals}</p>
                                    <h4 className="text-xl font-black uppercase tracking-tight mb-4 text-slate-900">2. Why This Matters (The Impact)</h4>
                                    <p className="text-lg text-slate-600 leading-relaxed mb-8">
                                        {selectedTopic.impact}
                                    </p>
                                    <h4 className="text-xl font-black uppercase tracking-tight mb-4 text-slate-900">3. Pro Tips for the North</h4>
                                    <ul className="space-y-4 text-lg text-slate-600 list-disc pl-6 mb-12">
                                        <li>Always check your histogram after the first shot to ensure the bright North Sea sky hasn't lost all detail.</li>
                                        <li>In high-wind areas like Dunstanburgh, lower your tripod's center of gravity to avoid micro-vibrations.</li>
                                        <li>Use a remote shutter or the 2-second timer to ensure your hand touching the camera doesn't cause blur.</li>
                                        <li>If shooting wildlife on the Farnes, keep your shutter speed twice as fast as you think you need.</li>
                                    </ul>
                                </div>
                                <div className="pt-20 border-t border-slate-100 text-center">
                                    <button onClick={() => setSelectedTopic(null)} className="bg-slate-900 text-white px-12 py-5 rounded-full font-black uppercase text-xs tracking-widest hover:bg-sky-500 transition-colors">
                                        Finish Lesson
                                    </button>
                                </div>
                            </div>
                        </div>
                    )}

                    <footer className="py-20 border-t border-slate-100 bg-slate-50">
                        <div className="max-w-7xl mx-auto px-8 text-center space-y-4">
                            <div className="flex items-center justify-center space-x-2 text-slate-400">
                                <Icon name="camera" size={14} />
                                <span className="font-black uppercase text-[10px] tracking-widest">NorthernPixl Field Manual</span>
                            </div>
                            <p className="text-[9px] font-bold text-slate-300 uppercase tracking-[0.4em]">Â© 2026 NorthernPixl. All Rights Reserved.</p>
                        </div>
                    </footer>
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
