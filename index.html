<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NorthernPixl | Northumberland Photography Guide</title>
    
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700;900&display=swap');
        body { font-family: 'Inter', sans-serif; -webkit-font-smoothing: antialiased; }
        .custom-scrollbar::-webkit-scrollbar { width: 6px; }
        .custom-scrollbar::-webkit-scrollbar-thumb { background-color: #e2e8f0; border-radius: 10px; }
        .animate-in { animation: fadeIn 0.6s ease-out forwards; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(15px); } to { opacity: 1; transform: translateY(0); } }
        .leaflet-container { width: 100%; height: 100%; background: #f8fafc; border-radius: 3rem; z-index: 10; }
    </style>
</head>
<body class="bg-white text-slate-900 overflow-x-hidden">
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useRef } = React;

        const Icon = ({ name, size = 20, className = "" }) => {
            const icons = {
                camera: <><path d="M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z"/><circle cx="12" cy="13" r="3"/></>,
                mapPin: <><path d="M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z"/><circle cx="12" cy="10" r="3"/></>,
                x: <><path d="M18 6 6 18"/><path d="m6 6 12 12"/></>,
                book: <path d="M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H20v20H6.5a2.5 2.5 0 0 1-2.5-2.5Z"/>
            };
            return (
                <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}>
                    {icons[name] || null}
                </svg>
            );
        };

        const LOCATIONS = [
            { id: 1, name: "Bamburgh Castle", type: "Landscape", lat: 55.6090, lng: -1.7120, desc: "Capture reflections in the 'Black Rocks' pools at low tide.", parking: "NE69 7DF", history: "Originally an Anglo-Saxon citadel. Owned by the Armstrong family." },
            { id: 2, name: "Dunstanburgh Castle", type: "Landscape", lat: 55.4915, lng: -1.5947, desc: "Dramatic silhouettes at sunrise. Reachable via a scenic coast walk.", parking: "NE66 3TW", history: "Built in 1313, a major fortress during the Wars of the Roses." },
            { id: 4, name: "Lindisfarne Castle", type: "Landscape", lat: 55.6694, lng: -1.7856, desc: "16th-century castle on Holy Island. Accessible only at low tide.", parking: "TD15 2RX", history: "Site of the first Viking raid in 793 AD." },
            { id: 5, name: "St Mary's Island", lat: 55.0717, lng: -1.4496, type: "Landscape", desc: "White lighthouse on a tidal island. Use long exposure for misty water.", parking: "NE26 4RS", history: "The lighthouse operated until 1984." },
            { id: 6, name: "Farne Islands", type: "Wildlife", lat: 55.6178, lng: -1.6314, desc: "Thousands of Puffins and Seals. Boat trips leave from Seahouses.", parking: "Seahouses", history: "Home of St. Cuthbert and Grace Darling." },
            { id: 7, name: "Coquet Island", type: "Wildlife", lat: 55.3340, lng: -1.5372, desc: "Rare Roseate Tern. Boat trips from Amble required.", parking: "NE65 0AP", history: "Features ruins of a Benedictine cell." },
            { id: 8, name: "Chillingham Park", type: "Wildlife", lat: 55.5262, lng: -1.9054, desc: "Home to the Wild Cattle, rarer than giant pandas.", parking: "NE66 5NJ", history: "Enclosed since the 13th century." },
            { id: 9, name: "Kielder Water", type: "Wildlife", lat: 55.2330, lng: -2.5330, desc: "Ospreys and Red Squirrels around the lake.", parking: "NE48 1BT", history: "Europe's largest man-made lake." },
            { id: 11, name: "Kielder Observatory", type: "Astro", lat: 55.2369, lng: -2.6105, desc: "Gold-Tier Dark Sky Park. Prime spot for Milky Way.", parking: "NE48 1EJ", history: "Opened in 2008." },
            { id: 12, name: "Cawfields Quarry", type: "Astro", lat: 54.9967, lng: -2.4645, desc: "Dark Sky Discovery Site. Reflects stars perfectly.", parking: "NE49 9PJ", history: "Former dolerite quarry on the Whin Sill." },
            { id: 15, name: "Dunstan Steads", type: "Astro", lat: 55.4988, lng: -1.6112, desc: "Northern Lights (Aurora) looking North.", parking: "NE66 3SY", history: "Coastline fortified during WWII." },
            { id: 16, name: "Alnwick Castle", type: "Landscape", lat: 55.4156, lng: -1.7059, desc: "The 'Harry Potter' castle.", parking: "NE66 1YU", history: "Seat of the Duke of Northumberland." },
            { id: 17, name: "Cragside House", type: "Landscape", lat: 55.3134, lng: -1.8845, desc: "Victorian architecture.", parking: "NE65 7PX", history: "First house lit by hydroelectric power." },
            { id: 18, name: "Housesteads", type: "Landscape", lat: 55.0135, lng: -2.3283, desc: "Complete Roman fort.", parking: "NE47 6NN", history: "Built around 124 AD." },
            { id: 19, name: "Blyth Beach Huts", type: "Landscape", lat: 55.1207, lng: -1.5034, desc: "Vibrant, colorful huts.", parking: "NE24 3PL", history: "Modern regeneration site." },
            { id: 20, name: "Northumberlandia", type: "Landscape", lat: 55.0934, lng: -1.6288, desc: "Human landform sculpture.", parking: "NE23 8AU", history: "Completed in 2012." },
            { id: 21, name: "Linhope Spout", type: "Landscape", lat: 55.4437, lng: -2.0634, desc: "Spectacular 18m chute waterfall.", parking: "NE66 4LZ", history: "Breamish Valley location." },
            { id: 22, name: "Twizell Castle", type: "Landscape", lat: 55.6835, lng: -2.1895, desc: "Unfinished gothic folly.", parking: "TD15 2PS", history: "Begun in 1770." },
            { id: 23, name: "Simonside Hills", type: "Landscape", lat: 55.2890, lng: -1.9480, desc: "360-degree views of Cheviots.", parking: "NE65 7NW", history: "Rich in local folklore." },
            { id: 24, name: "Cresswell Pond", type: "Wildlife", lat: 55.2289, lng: -1.5434, desc: "Brackish lagoon for waders.", parking: "NE61 5LF", history: "Formed by mining subsidence." },
            { id: 25, name: "Holystone Woods", type: "Wildlife", lat: 55.3235, lng: -2.0678, desc: "Native oak woodland.", parking: "NE65 7AJ", history: "Associated with St. Ninian." },
            { id: 26, name: "The Cheviot", type: "Wildlife", lat: 55.4795, lng: -2.1466, desc: "Highest peak in the county.", parking: "NE71 6RJ", history: "An extinct volcano." },
            { id: 27, name: "Hareshaw Linn", type: "Wildlife", lat: 55.1557, lng: -2.2420, desc: "Ancient ravine waterfall.", parking: "NE48 2BZ", history: "Once an ironworks site." },
            { id: 28, name: "Elf Kirk", type: "Astro", lat: 55.2045, lng: -2.5367, desc: "Deep forest dark sky site.", parking: "NE48 1HX", history: "Zero light pollution." },
            { id: 29, name: "Wooler Common", type: "Astro", lat: 55.5412, lng: -2.0345, desc: "Great low horizons.", parking: "NE71 6RL", history: "Ancient common land." },
            { id: 30, name: "Stonehaugh", type: "Astro", lat: 55.0877, lng: -2.3166, desc: "Stargazing pavilion.", parking: "NE48 36DZ", history: "Architecture student project." }
        ];

        const GUIDES = [
            {
                id: 1, title: "Mastering Hyperfocal Distance", cat: "Landscape", time: "25 min",
                fundamentals: "The hyperfocal distance is the mathematical 'sweet spot' for landscape photographers. It is defined as the closest distance at which a lens can be focused while keeping objects at infinity acceptably sharp. When you focus at this specific point, your depth of field extends from exactly half that distance all the way to infinity.\n\nWhy does this matter in Northumberland? Imagine standing on the 'Black Rocks' at Bamburgh. You have a detailed, mossy rock just 2 meters away, but you also want the castle, which is 500 meters away, to be perfectly crisp. If you focus on the castle, the rock will be a blur. If you focus on the rock, the castle will soften. Hyperfocal distance allows you to have both.\n\nTECHNICAL WORKFLOW:\n1. Choose your Aperture: Generally f/11 is the sweet spot. Going higher (f/22) introduces 'diffraction,' which actually makes the whole image softer.\n2. Know your Focal Length: A 24mm lens has a different hyperfocal point than a 16mm lens.\n3. Use a Calculator: Apps like PhotoPills or Depth of Field Calculator are essential. For a 24mm lens at f/11 on a full-frame camera, the hyperfocal distance is roughly 1.7 meters.\n4. Manual Focus: Switch your lens to MF. Set the focus scale to 1.7m. Do not focus on the castle!",
                impact: "Maximizing front-to-back sharpness creates 'Immersive Scale.' It invites the viewer to step into the photo, feeling the texture of the foreground while admiring the grandeur of the background. Without this, your landscape feels like a flat postcard rather than a three-dimensional experience.",
                proTip: "The 'Double the Distance' Rule: If you don't have an app, look for the closest object you want sharp. Estimate its distance (say, 3 meters). Focus at exactly double that distance (6 meters). This is a reliable field approximation for hyperfocal focusing."
            },
            {
                id: 2, title: "Advanced Long Exposure Artistry", cat: "Landscape", time: "30 min",
                fundamentals: "Long exposure is the manipulation of time to create ethereal, painterly effects. By keeping the shutter open for 10, 30, or even 300 seconds, the camera averages out movement. In the North Sea, this transforms crashing, chaotic waves into a soft, dreamlike mist. At Kielder, it turns drifting clouds into long, streaking lines that point toward your subject.\n\nGEAR REQUIREMENTS:\n- A heavy-duty tripod is non-negotiable. Even a slight breeze during a 30-second exposure will ruin the shot.\n- Neutral Density (ND) Filters: These are 'sunglasses for your lens.' A 10-stop ND filter allows you to shoot a 30-second exposure in broad daylight.\n- Remote Shutter Release: Pressing the button with your finger causes 'shutter slap'—a tiny vibration that reduces sharpness.\n\nSTEP-BY-STEP FIELD EXECUTION:\n1. Compose and Focus: Set up your shot *before* putting the dark ND filter on. Lock your focus.\n2. Meter the Light: Take a test shot without the filter. Note the shutter speed (e.g., 1/125s).\n3. Calculate the New Speed: Adding a 10-stop filter changes 1/125s into an 8-second exposure.\n4. Cover the Viewfinder: On DSLRs, light can leak through the eyepiece during long exposures, causing purple streaks. Use a piece of black tape or the built-in shutter.",
                impact: "Long exposure simplifies a busy scene. It removes the 'visual noise' of water and wind, allowing the viewer to focus on the textures of the rocks at Dunstanburgh or the architecture of St Mary's Lighthouse.",
                proTip: "The 'Longest' Exposure: If you want water to look like ice, go for 30+ seconds. If you want to keep some texture in the waves (the 'streaky' look), aim for 0.5 to 2 seconds as the tide is retreating."
            },
            {
                id: 3, title: "The NPF Rule & Pin-Sharp Stars", cat: "Astro", time: "20 min",
                fundamentals: "The Earth is rotating at roughly 1,000 miles per hour. Because of this, stars are moving targets. If your shutter is open for too long, the stars will blur into 'trails' rather than looking like sharp points of light. \n\nTraditionally, photographers used the '500 Rule' (500 divided by focal length = max shutter speed). However, modern high-resolution sensors are so sensitive that they see movement much faster, making the 500 Rule obsolete. The NPF Rule is the new gold standard.\n\nTHE NPF FORMULA:\n(35 x Aperture + 30 x Pixel Pitch) / Focal Length. \n\nDon't worry about the math; apps like PhotoPills calculate this for you. For a 24mm f/2.8 lens on a high-res sensor, the 500 Rule might suggest a 20-second exposure, but the NPF Rule will tell you 8 seconds is the maximum for truly sharp stars.\n\nIN THE FIELD:\n1. Open your aperture to its widest (f/1.8, f/2.8).\n2. Set ISO high (3200-6400) to compensate for the shorter shutter speed.\n3. Use a sturdy tripod.\n4. Zoom in on your LCD to 100% after the first shot. If the stars look like tiny sausages, shorten your shutter speed.",
                impact: "Pin-sharp stars make the Milky Way look crystalline and grand. Blurred stars look like a technical error and distract from the majesty of Northumberland's Dark Skies.",
                proTip: "If your NPF calculation requires a shutter speed so short that the image is too dark, consider a 'Star Tracker.' This device moves the camera at the same speed as the Earth's rotation, allowing for 2-minute exposures at low ISO."
            },
            {
                id: 4, title: "Wildlife: Back-Button Focus Mastery", cat: "Wildlife", time: "25 min",
                fundamentals: "By default, your camera focuses when you press the shutter button halfway. This is a nightmare for wildlife. Imagine a Puffin on the Farne Islands: you focus on it, but then a seagull flies in front of it. Your camera will hunt for the seagull, losing the Puffin.\n\nBack-Button Focus (BBF) separates the focus action from the shutter action. You assign focus to a button on the back of the camera (usually AF-ON). \n\nHOW TO SETUP:\n1. Menu Settings: Go to 'Custom Key Settings' and disable AF from the shutter button.\n2. Mode: Set your camera to 'Continuous AF' (AI-Servo or AF-C).\n3. Operation: Hold the back button to track a moving animal. Release the button to lock focus (becoming manual). Press the shutter independently to take photos.\n\nADVANTAGES:\n- You never have to switch between Single-shot and Continuous AF again.\n- You can focus on a bird, release the button, recompose the shot, and the focus stays exactly where you left it.",
                impact: "This technique increases your 'keeper rate' significantly. It allows you to react instantly to sudden movement without the lens 'hunting' for focus at the critical moment.",
                proTip: "When using BBF for birds in flight, keep the AF-ON button held down the entire time you are tracking. The camera's computer is constantly recalculating the distance; releasing it for even a millisecond can result in a soft eye."
            },
            {
                id: 5, title: "Aurora Borealis: Hunting the Northern Lights", cat: "Astro", time: "40 min",
                fundamentals: "Northumberland is one of the best places in England to see the Aurora, but capturing it requires more than just looking up. The Aurora is caused by solar wind hitting the Earth's atmosphere. To the naked eye, it often looks like a faint grey mist; the camera sensor, however, sees the vibrant greens and purples.\n\nPLANNING THE HUNT:\n1. Kp-Index: Watch for a Kp of 4 or higher. This indicates the strength of the geomagnetic storm.\n2. Bz Value: Look for a 'Negative Bz.' This means the solar wind is 'hooking' into Earth's magnetic field.\n3. Location: You must have a clear view of the Northern horizon. Dunstan Steads or Bamburgh Beach are perfect.\n\nCAMERA SETTINGS:\n- Aperture: Widest possible (f/1.4 - f/2.8).\n- ISO: 1600 to 3200.\n- Shutter Speed: This is the variable. If the Aurora is moving slowly, 10-15 seconds is fine. If it is 'dancing' (moving quickly), you need 2-5 seconds to capture the distinct 'curtains' or 'pillars.' A long exposure will just turn the whole sky into a green mush.",
                impact: "Capturing the Aurora is the 'Holy Grail' of UK photography. It adds a cosmic, otherworldly dimension to the familiar Northumberland coastline.",
                proTip: "White Balance is key! Set your WB manually to 'Tungsten' or 'Incandescent' (approx 3200K-3800K). If you leave it on Auto, the camera will try to 'fix' the green sky by making it look brown or grey."
            },
            {
                id: 6, title: "Animal Eye AF & Tracking Logic", cat: "Wildlife", time: "15 min",
                fundamentals: "Modern mirrorless cameras (Sony, Canon, Nikon) have AI-driven 'Eye-Autofocus.' This technology recognizes the shape of an animal and specifically locks onto the eye. In wildlife, if the eye isn't sharp, the photo is a failure.\n\nSETTINGS:\n1. Subject Detection: Set to 'Animal' or 'Bird.'\n2. AF Area: Use 'Wide' or 'Zone' tracking. Let the camera's brain find the eye within that zone.\n3. Priority: Ensure 'Eye Priority' is turned ON.\n\nLIMITATIONS:\nEye AF struggles in low light or when there is heavy brush between you and the animal (e.g., a Red Squirrel at Kielder). In these cases, you must override the AI with a 'Small Spot' focus point directly on the eye.",
                impact: "Eye AF frees your mind to focus on composition and timing rather than fighting with focus points. It is the single biggest technological leap for wildlife photographers in a decade.",
                proTip: "If the animal is facing away, the camera will usually lock onto the head. As soon as it turns even slightly, the Eye AF will 'snap' back. Be ready to fire a burst the moment that snap happens."
            },
            {
                id: 7, title: "Astro: Star Trail Geometry", cat: "Astro", time: "30 min",
                fundamentals: "Star trails create a sense of the Earth's rotation. By taking hundreds of photos over several hours and stacking them, the stars appear as circles around the North Star (Polaris). \n\nTHE PROCESS:\n1. Find Polaris: Use a star app. Point your camera North for circles, or East/West for 'rain' effects.\n2. Intervalometer: Set your camera to take 30-second shots with a 1-second gap between them. Do this for at least 2 hours.\n3. Post-Processing: Use free software like 'StarStaX' to blend the images. It picks the brightest pixels from each frame and connects them.",
                impact: "Trails create a surreal, abstract view of the night sky that tells a story of time passing—something a single frame cannot do.",
                proTip: "Turn OFF 'Long Exposure Noise Reduction' in your camera menu. If it's on, the camera will take 30 seconds to 'process' after every 30-second shot, leaving huge gaps in your star trails."
            },
            {
                id: 8, title: "Composition: Leading Lines & Visual Flow", cat: "Landscape", time: "20 min",
                fundamentals: "A photo is a 2D representation of a 3D world. To create depth, you must guide the viewer's eye. Leading lines are 'roads' for the eye to follow. \n\nEXAMPLES IN NORTHUMBERLAND:\n- The long wooden pier at Blyth Beach.\n- The 'Black Rocks' gullies leading to Bamburgh Castle.\n- The Hadrian's Wall path winding through the hills at Housesteads.\n\nHOW TO USE THEM:\nDon't just point at the subject. Position your tripod low so the line starts in the bottom corner of your frame and leads diagonally toward the main subject.",
                impact: "Leading lines create a 'narrative' in the image. They give the viewer a starting point and a destination, making the image feel balanced and purposeful.",
                proTip: "Lines don't have to be straight! 'S-curves' (like a winding river or path) are often more pleasing and keep the viewer's eye in the frame longer."
            },
            {
                id: 9, title: "Wildlife Fieldcraft & Ethics", cat: "Wildlife", time: "35 min",
                fundamentals: "The best wildlife photo is one where the animal didn't even know you were there. Fieldcraft is the art of blending in. \n\nETHICS:\n- Never flush a bird (make it fly) just for a 'wings spread' shot. This wastes the bird's vital energy.\n- Keep your distance. If the animal changes its behavior (stops eating, looks at you), you are too close.\n- Use a 'Long Lens' (400mm+) to bridge the gap.\n\nCLOTHING & MOVEMENT:\n- Avoid 'Blue.' Most animals see blue very clearly. Earth tones (browns, greens) are best.\n- Move only when the animal is looking away or eating. Freeze when they look up.",
                impact: "Respecting wildlife ensures these animals return year after year. It also results in more natural photos of animals behaving normally, rather than looking stressed or frightened.",
                proTip: "Use your car as a 'Mobile Hide.' Animals in Northumberland (like those at Kielder) are often used to cars. They will let a car get much closer than a walking human."
            },
            {
                id: 10, title: "Exposure Bracketing (HDR) for High Contrast", cat: "Landscape", time: "20 min",
                fundamentals: "Digital sensors cannot see as much detail in the shadows and highlights as the human eye can. On a bright sunrise at Dunstanburgh, if you expose for the dark castle, the sky will turn pure white ('blown out'). If you expose for the sun, the castle will be pure black.\n\nBracketing is the solution: taking multiple shots at different exposure levels.\n\nWORKFLOW:\n1. Set camera to 'AEB' (Auto Exposure Bracketing).\n2. Set to 3 or 5 shots at 2-stop intervals.\n3. The camera will fire a sequence: -2 (dark), 0 (normal), +2 (bright).\n4. In Lightroom/Photoshop, select all shots and use 'Photo Merge > HDR.'",
                impact: "This creates a 'professional dynamic range' where you can see the detail in the dark rocks *and* the vibrant colors in the clouds simultaneously.",
                proTip: "You don't always need HDR software. Often, just taking the -2 (dark) exposure and 'lifting the shadows' in a single RAW file is enough. Only use the full bracket if the 'Highlight Alert' (blinkies) shows on your screen."
            },
            {
                id: 11, title: "Burst Mode & Drive Logic", cat: "Wildlife", time: "15 min",
                fundamentals: "Wildlife happens in split seconds. A Puffin's wings beat 400 times per minute. If you take one photo, you are gambling. Burst mode (High-Speed Continuous) is your insurance policy.\n\nWHEN TO USE:\n- Birds in flight (obviously).\n- Animal interactions (fighting, feeding).\n- Moving water (to catch the perfect 'splash' shape).\n\nCAUTION: Your camera has a 'Buffer.' If you hold the shutter for 10 seconds, the camera will stop to 'write' to the card. Learn to fire in short 1-2 second bursts.",
                impact: "Burst mode allows you to pick the 'hero frame'—the exact moment the wings are in the perfect 'V' shape or the seal's head is tilted just right.",
                proTip: "Check your SD card speed! You need a 'V60' or 'V90' card for wildlife. Slow cards will 'choke' your camera, making it lock up during the best action."
            },
            {
                id: 12, title: "Milky Way Fundamentals", cat: "Astro", time: "25 min",
                fundamentals: "The Milky Way isn't visible all year. In Northumberland, 'Milky Way Season' is from late February to October. During winter, the bright 'Galactic Center' is below the horizon.\n\nLOCATING IT:\nUse 'Stellarium' or 'PhotoPills.' Look for the 'Core' in the Southern sky. \n\nSETTINGS:\n- Focus: You MUST use Manual Focus. Use 'Live View,' zoom in on a bright star, and turn the ring until the star is a tiny, sharp dot.\n- ISO: Don't be afraid of 6400. Modern noise reduction software is incredible.",
                impact: "Capturing the 'Great Rift' of our galaxy over a landmark like Cawfields Quarry creates a profound, humbling image of our place in the universe.",
                proTip: "Wait for the 'New Moon.' If the moon is more than 25% bright, it will wash out the faint light of the Milky Way, making the sky look blue/grey rather than black/nebula-filled."
            },
            {
                id: 13, title: "ISO & Noise Management", cat: "Wildlife", time: "20 min",
                fundamentals: "In the woods of Kielder or on a cloudy day at the Farnes, you will often find yourself with 'low light.' To keep your shutter speed fast (e.g., 1/1000s), you have to raise your ISO. Higher ISO creates 'Noise' (grain).\n\nTHE GOLDEN RULE:\n'A noisy sharp photo is better than a clean blurry photo.' You can fix noise in Lightroom, but you can't fix a blurry bird.\n\nMODERN FIXES:\nTools like 'Topaz Photo AI' or 'Lightroom Denoise' can almost completely remove noise from ISO 12,800 images. Don't be afraid of the high numbers!",
                impact: "Mastering ISO allows you to keep shooting long after other photographers have packed up because 'the light is too low.'",
                proTip: "The 'Expose to the Right' (ETTR) technique: If you can, make your photo slightly brighter than it needs to be (without blowing highlights). Noise lives in the dark shadows. If you brighten a dark photo in post, noise explodes. If you darken a bright photo, noise disappears."
            },
            {
                id: 14, title: "Polarizing Filters: Beyond the Sky", cat: "Landscape", time: "20 min",
                fundamentals: "A Circular Polarizer (CPL) is the only filter that cannot be truly mimicked in Photoshop. It works by blocking light waves that are vibrating at certain angles—specifically light reflected off non-metallic surfaces.\n\nUSES IN THE FIELD:\n1. Removing Glare: Wet rocks at the beach often have white 'hotspots' from reflections. A CPL removes them, revealing the true color/texture of the rock.\n2. Looking through Water: It removes the surface reflection of the sea, letting you see the sand and seaweed beneath.\n3. Foliage: In Holystone Woods, a CPL removes the 'shine' on leaves, making the forest look much deeper green.",
                impact: "It adds 'punch' and saturation. It clears up the atmosphere by removing 'haze' caused by scattered light in the air.",
                proTip: "Maximum polarization happens at a 90-degree angle to the sun. If you are pointing directly at or away from the sun, the filter won't do much. Watch the sky in your viewfinder as you rotate it; it will 'blink' dark when it hits the sweet spot."
            },
            {
                id: 15, title: "Focus Stacking for Macro & Landscape", cat: "Landscape", time: "30 min",
                fundamentals: "Sometimes, physics won't allow you to get everything sharp. This is common in macro (close-ups of flowers) or landscapes with a subject inches from the lens. \n\nTECHNIQUE:\n1. Tripod is mandatory.\n2. Manual Mode: Every shot must have the same exposure.\n3. Take Shot 1 focused on the very front. \n4. Rotate focus ring slightly. Take Shot 2.\n5. Repeat until you reach the background. (Usually 5-15 shots).\n6. Combine in Photoshop using 'Auto-Align Layers' and 'Auto-Blend Layers.'",
                impact: "This results in 'Impossible Sharpness'—images that look hyper-real and capture detail that the human eye usually misses.",
                proTip: "Check for movement! If the grass is blowing in the wind between shots, the 'stack' will have blurry ghosts. Only stack on still days or with solid subjects like rocks and castles."
            },
            {
                id: 16, title: "The Rule of Thirds & Dynamic Balance", cat: "Landscape", time: "15 min",
                fundamentals: "The Rule of Thirds is a guide for placing subjects. Imagine a 3x3 grid over your frame. \n\nPLACEMENT:\n- Place the horizon on the bottom third to emphasize a dramatic sky (common at Lindisfarne).\n- Place the horizon on the top third to emphasize the foreground (common at Bamburgh).\n- Place your subject (a lighthouse, a seal) at one of the four 'intersections.'",
                impact: "It prevents 'Static Images.' A subject in the dead center often feels boring or 'trapped.' Moving it to a third creates 'Energy' and 'Flow.'",
                proTip: "The 'Rule of Space': If your subject is moving (like a bird flying) or looking in a direction, give them more 'empty' space in the direction they are moving/looking. This prevents the photo from feeling 'cramped.'"
            },
            {
                id: 17, title: "Astro: Focusing in the Dark", cat: "Astro", time: "15 min",
                fundamentals: "Autofocus does not work in the dark. If you rely on it, your stars will be blurry blobs. \n\nTHE METHOD:\n1. Turn off Autofocus (on the lens or in camera).\n2. Turn on 'Live View' and find the brightest star or a distant light (like a lighthouse).\n3. Zoom into that star on the LCD screen to maximum (usually 10x).\n4. Slowly turn the focus ring until the star is as small and 'tight' as possible. If it starts getting bigger, you've gone too far.",
                impact: "Sharp focus is the difference between a 'Work of Art' and a 'Discarded Shot.' In Astro, there is no middle ground.",
                proTip: "Once you have perfect focus, use a piece of 'Gaffer Tape' to tape the focus ring down. It's very easy to accidentally bump it in the dark."
            },
            {
                id: 18, title: "Wildlife Composition: Level with the Eye", cat: "Wildlife", time: "20 min",
                fundamentals: "The most common mistake in wildlife photography is shooting from a standing height. When you look down at a seal or a duck, you look like a 'predator' and the photo looks like a 'snapshot.'\n\nTHE SOLUTION:\nGet on their level. If the animal is on the ground, you should be lying in the mud. \n\nWHY IT WORKS:\n1. It creates an intimate 'connection' with the viewer.\n2. It creates 'Foreground Blur' and 'Background Blur' (Bokeh), making the animal pop off the page.\n3. It makes the animal look heroic rather than small.",
                impact: "Lying down transforms a simple photo of a bird into a 'portrait' that conveys personality and emotion.",
                proTip: "Bring a 'Bean Bag' or a 'Ground Pod.' Holding a heavy 500mm lens while lying flat on your stomach is exhausting. A beanbag on the ground provides a perfect, stable base."
            },
            {
                id: 19, title: "Astro: Post-Processing Workflow", cat: "Astro", time: "30 min",
                fundamentals: "An Astro photo straight out of the camera looks grey and flat. The 'magic' happens in the edit.\n\nLIGHTROOM STEPS:\n1. White Balance: Set to 'Cool' (blue). \n2. Dehaze: This is the secret weapon for Astro. It removes the atmospheric glow and reveals the stars.\n3. Contrast/Whites: Push these up to make the stars 'pop.'\n4. Noise Reduction: Use 'Color Noise Reduction' first to get rid of the purple/green speckles.",
                impact: "Editing allows you to reveal the colors of the nebulae and the dust clouds of the Milky Way that are physically present in the RAW data but invisible to the naked eye.",
                proTip: "Don't over-process the 'Blacks.' Space isn't actually pure black; it's a deep, dark blue/brown. If you 'Crush the Blacks' to 0, you lose the natural depth of the night sky."
            },
            {
                id: 20, title: "Planning: Weather, Tide & Light", cat: "Landscape", time: "25 min",
                fundamentals: "Great photography is 80% planning and 20% clicking the shutter. In Northumberland, three factors dictate everything.\n\n1. THE TIDE: Some spots (Bamburgh's pools) only exist at low tide. Others (St Mary's Island) are cut off at high tide. Use the 'AnyTide' app.\n2. THE SUN: Use 'The Photographer's Ephemeris' to see exactly where the sun will rise. Does it hit the castle face? Or is it behind the castle?\n3. CLOUD COVER: Use 'Clear Outside.' You want 30-50% 'High Cloud' for a colorful sunset. You want 0% cloud for Astro.",
                impact: "Planning ensures you aren't disappointed. There is nothing worse than driving 2 hours to a location only to find the subject is in shadow or underwater.",
                proTip: "Check the 'Blue Hour.' The 30 minutes *before* sunrise and *after* sunset often have much more interesting, soft, blue/purple light than the 'Golden Hour' itself."
            }
        ];

        const App = () => {
            const [view, setView] = useState('map');
            const [selectedTopic, setSelectedTopic] = useState(null);
            const mapRef = useRef(null);
            const leafletMap = useRef(null);

            useEffect(() => {
                if (view === 'map' && !leafletMap.current && mapRef.current) {
                    leafletMap.current = L.map(mapRef.current, {
                        center: [55.3, -1.9],
                        zoom: 9,
                        zoomControl: false
                    });

                    L.tileLayer('https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}{r}.png', {
                        attribution: '©OpenStreetMap'
                    }).addTo(leafletMap.current);

                    LOCATIONS.forEach(loc => {
                        const color = loc.type === 'Landscape' ? '#0f172a' : loc.type === 'Wildlife' ? '#16a34a' : '#7c3aed';
                        const markerHtml = `
                            <div style="
                                background-color: ${color};
                                width: 12px;
                                height: 12px;
                                border: 2px solid white;
                                border-radius: 50%;
                                box-shadow: 0 2px 4px rgba(0,0,0,0.2);
                            "></div>
                        `;

                        const customIcon = L.divIcon({
                            html: markerHtml,
                            className: 'custom-marker',
                            iconSize: [12, 12]
                        });

                        L.marker([loc.lat, loc.lng], { icon: customIcon })
                            .addTo(leafletMap.current)
                            .bindPopup(`
                                <div style="font-family: 'Inter', sans-serif; padding: 4px;">
                                    <strong style="display:block; font-size:14px;">${loc.name}</strong>
                                    <span style="color:#64748b; font-size:11px; text-transform:uppercase; font-weight:bold;">${loc.type}</span>
                                    <p style="margin: 8px 0; font-size:12px; line-height:1.4;">${loc.desc}</p>
                                    <div style="background:#f1f5f9; padding:6px; border-radius:4px; font-size:10px;">
                                        <strong>Parking:</strong> ${loc.parking}<br/>
                                        <strong>History:</strong> ${loc.history}
                                    </div>
                                </div>
                            `);
                    });
                }
            }, [view]);

            if (selectedTopic) {
                return (
                    <div className="min-h-screen bg-white animate-in">
                        <div className="max-w-4xl mx-auto px-6 py-20">
                            <button onClick={() => setSelectedTopic(null)} className="flex items-center space-x-2 text-slate-400 hover:text-slate-900 transition-colors mb-12 group">
                                <Icon name="x" size={20} className="group-hover:rotate-90 transition-transform" />
                                <span className="font-bold uppercase tracking-widest text-xs">Close Manual</span>
                            </button>

                            <div className="space-y-4 mb-12">
                                <span className="bg-slate-100 px-4 py-1 rounded-full text-[10px] font-black uppercase tracking-widest text-slate-500">{selectedTopic.cat}</span>
                                <h1 className="text-6xl font-black tracking-tighter leading-none italic">{selectedTopic.title}</h1>
                                <p className="text-slate-400 font-medium">Estimated Reading & Practice Time: {selectedTopic.time}</p>
                            </div>

                            <div className="grid grid-cols-1 md:grid-cols-3 gap-16">
                                <div className="md:col-span-2 space-y-12">
                                    <section>
                                        <h3 className="text-xs font-black uppercase tracking-[0.3em] text-slate-400 mb-6">Subject Manual</h3>
                                        <div className="text-xl leading-relaxed text-slate-700 whitespace-pre-line font-medium">
                                            {selectedTopic.fundamentals}
                                        </div>
                                    </section>
                                    <section>
                                        <h3 className="text-xs font-black uppercase tracking-[0.3em] text-slate-400 mb-6">Visual Impact</h3>
                                        <p className="text-xl leading-relaxed text-slate-700 font-medium">
                                            {selectedTopic.impact}
                                        </p>
                                    </section>
                                </div>
                                <div className="space-y-8">
                                    <div className="bg-slate-900 text-white p-8 rounded-3xl shadow-2xl">
                                        <h3 className="text-[10px] font-black uppercase tracking-widest text-slate-400 mb-4">Pro Field Tip</h3>
                                        <p className="text-lg leading-snug font-bold italic">"{selectedTopic.proTip}"</p>
                                    </div>
                                    <div className="border-2 border-slate-100 p-8 rounded-3xl">
                                        <h3 className="text-[10px] font-black uppercase tracking-widest text-slate-400 mb-4">Required Gear</h3>
                                        <ul className="text-sm font-bold space-y-3 uppercase tracking-tight">
                                            <li>• Manual Capability</li>
                                            <li>• RAW Format Enabled</li>
                                            <li>• Steady Support</li>
                                            <li>• Local Knowledge</li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                            
                            <div className="mt-20 pt-10 border-t flex justify-center">
                                <button onClick={() => setSelectedTopic(null)} className="bg-slate-900 text-white px-12 py-5 rounded-full font-black uppercase text-xs tracking-widest">Back to Field Guide</button>
                            </div>
                        </div>
                    </div>
                );
            }

            return (
                <div className="h-screen flex flex-col md:flex-row p-4 gap-4 overflow-hidden animate-in">
                    {/* Sidebar / Navigation */}
                    <div className="w-full md:w-24 bg-slate-900 rounded-[3rem] flex md:flex-col items-center justify-between p-6 z-50">
                        <div className="text-white">
                            <Icon name="camera" size={28} className="fill-current" />
                        </div>
                        <div className="flex md:flex-col gap-6">
                            <button onClick={() => setView('map')} className={`p-4 rounded-3xl transition-all ${view === 'map' ? 'bg-white text-slate-900 scale-110 shadow-xl' : 'text-slate-500 hover:text-white'}`}>
                                <Icon name="mapPin" size={24} />
                            </button>
                            <button onClick={() => setView('learn')} className={`p-4 rounded-3xl transition-all ${view === 'learn' ? 'bg-white text-slate-900 scale-110 shadow-xl' : 'text-slate-500 hover:text-white'}`}>
                                <Icon name="book" size={24} />
                            </button>
                        </div>
                        <div className="hidden md:block w-8 h-8 rounded-full bg-gradient-to-tr from-indigo-500 to-emerald-400"></div>
                    </div>

                    {/* Main Content Area */}
                    <div className="flex-1 bg-slate-50 rounded-[3rem] relative overflow-hidden">
                        {view === 'map' ? (
                            <div className="h-full w-full relative">
                                <div ref={mapRef} className="absolute inset-0 z-10" />
                                <div className="absolute top-10 left-10 z-20 bg-white/90 backdrop-blur-md p-8 rounded-[2.5rem] shadow-2xl border border-white max-w-sm">
                                    <h1 className="text-4xl font-black tracking-tighter mb-2 italic">NORTHERN PIXL</h1>
                                    <p className="text-xs font-bold text-slate-400 uppercase tracking-widest mb-6">Northumberland Field Guide</p>
                                    <div className="space-y-4">
                                        <div className="flex items-center gap-4 text-sm font-bold text-slate-600 uppercase tracking-tight">
                                            <div className="w-3 h-3 rounded-full bg-slate-900"></div> Landscape
                                        </div>
                                        <div className="flex items-center gap-4 text-sm font-bold text-slate-600 uppercase tracking-tight">
                                            <div className="w-3 h-3 rounded-full bg-emerald-500"></div> Wildlife
                                        </div>
                                        <div className="flex items-center gap-4 text-sm font-bold text-slate-600 uppercase tracking-tight">
                                            <div className="w-3 h-3 rounded-full bg-violet-500"></div> Astro
                                        </div>
                                    </div>
                                </div>
                            </div>
                        ) : (
                            <div className="h-full p-10 overflow-y-auto custom-scrollbar">
                                <div className="max-w-6xl mx-auto">
                                    <header className="mb-16">
                                        <h2 className="text-7xl font-black tracking-tighter italic leading-none mb-4">THE LEARNING<br/>ARCHIVE.</h2>
                                        <p className="text-slate-400 font-bold uppercase tracking-widest text-xs">20 Technical Techniques for the Northern Photographer</p>
                                    </header>
                                    <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                                        {GUIDES.map(guide => (
                                            <div key={guide.id} onClick={() => setSelectedTopic(guide)} className="group bg-white p-8 rounded-[2.5rem] shadow-sm hover:shadow-2xl transition-all cursor-pointer border border-transparent hover:border-slate-100 flex flex-col justify-between min-h-[320px]">
                                                <div>
                                                    <div className="flex justify-between items-start mb-6">
                                                        <span className="text-[10px] font-black uppercase tracking-widest text-slate-400 bg-slate-50 px-3 py-1 rounded-full">{guide.cat}</span>
                                                        <span className="text-[10px] font-bold text-slate-300">{guide.time}</span>
                                                    </div>
                                                    <h3 className="text-3xl font-black tracking-tighter leading-tight group-hover:text-indigo-600 transition-colors">{guide.title}</h3>
                                                </div>
                                                <div className="pt-6 border-t border-slate-50 flex items-center justify-between">
                                                    <span className="text-xs font-bold uppercase tracking-widest text-slate-400">Open Manual</span>
                                                    <div className="w-10 h-10 rounded-full bg-slate-900 text-white flex items-center justify-center group-hover:scale-110 transition-transform">
                                                        <Icon name="book" size={16} />
                                                    </div>
                                                </div>
                                            </div>
                                        ))}
                                    </div>
                                </div>
                            </div>
                        )}
                    </div>
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
