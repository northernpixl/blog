<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NorthernPixl | Northumberland Photography Guide</title>
    
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700;900&display=swap');
        body { font-family: 'Inter', sans-serif; -webkit-font-smoothing: antialiased; }
        .custom-scrollbar::-webkit-scrollbar { width: 6px; }
        .custom-scrollbar::-webkit-scrollbar-thumb { background-color: #e2e8f0; border-radius: 10px; }
        .animate-in { animation: fadeIn 0.6s ease-out forwards; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(15px); } to { opacity: 1; transform: translateY(0); } }
        .leaflet-container { width: 100%; height: 100%; background: #f8fafc; border-radius: 3rem; z-index: 10; }
    </style>
</head>
<body class="bg-white text-slate-900 overflow-x-hidden">
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useRef } = React;

        const Icon = ({ name, size = 20, className = "" }) => {
            const icons = {
                camera: <><path d="M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z"/><circle cx="12" cy="13" r="3"/></>,
                mapPin: <><path d="M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z"/><circle cx="12" cy="10" r="3"/></>,
                x: <><path d="M18 6 6 18"/><path d="m6 6 12 12"/></>,
                book: <path d="M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H20v20H6.5a2.5 2.5 0 0 1-2.5-2.5Z"/>
            };
            return (
                <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}>
                    {icons[name] || null}
                </svg>
            );
        };

        const LOCATIONS = [
            { id: 1, name: "Bamburgh Castle", type: "Landscape", lat: 55.6090, lng: -1.7120, desc: "Capture reflections in the 'Black Rocks' pools at low tide.", parking: "NE69 7DF", history: "Originally an Anglo-Saxon citadel. Owned by the Armstrong family." },
            { id: 2, name: "Dunstanburgh Castle", type: "Landscape", lat: 55.4915, lng: -1.5947, desc: "Dramatic silhouettes at sunrise. Reachable via a scenic coast walk.", parking: "NE66 3TW", history: "Built in 1313, a major fortress during the Wars of the Roses." },
            { id: 4, name: "Lindisfarne Castle", type: "Landscape", lat: 55.6694, lng: -1.7856, desc: "16th-century castle on Holy Island. Accessible only at low tide.", parking: "TD15 2RX", history: "Site of the first Viking raid in 793 AD." },
            { id: 5, name: "St Mary's Island", lat: 55.0717, lng: -1.4496, type: "Landscape", desc: "White lighthouse on a tidal island. Use long exposure for misty water.", parking: "NE26 4RS", history: "The lighthouse operated until 1984." },
            { id: 6, name: "Farne Islands", type: "Wildlife", lat: 55.6178, lng: -1.6314, desc: "Thousands of Puffins and Seals. Boat trips leave from Seahouses.", parking: "Seahouses", history: "Home of St. Cuthbert and Grace Darling." },
            { id: 7, name: "Coquet Island", type: "Wildlife", lat: 55.3340, lng: -1.5372, desc: "Rare Roseate Tern. Boat trips from Amble required.", parking: "NE65 0AP", history: "Features ruins of a Benedictine cell." },
            { id: 8, name: "Chillingham Park", type: "Wildlife", lat: 55.5262, lng: -1.9054, desc: "Home to the Wild Cattle, rarer than giant pandas.", parking: "NE66 5NJ", history: "Enclosed since the 13th century." },
            { id: 9, name: "Kielder Water", type: "Wildlife", lat: 55.2330, lng: -2.5330, desc: "Ospreys and Red Squirrels around the lake.", parking: "NE48 1BT", history: "Europe's largest man-made lake." },
            { id: 11, name: "Kielder Observatory", type: "Astro", lat: 55.2369, lng: -2.6105, desc: "Gold-Tier Dark Sky Park. Prime spot for Milky Way.", parking: "NE48 1EJ", history: "Opened in 2008." },
            { id: 12, name: "Cawfields Quarry", type: "Astro", lat: 54.9967, lng: -2.4645, desc: "Dark Sky Discovery Site. Reflects stars perfectly.", parking: "NE49 9PJ", history: "Former dolerite quarry on the Whin Sill." },
            { id: 15, name: "Dunstan Steads", type: "Astro", lat: 55.4988, lng: -1.6112, desc: "Northern Lights (Aurora) looking North.", parking: "NE66 3SY", history: "Coastline fortified during WWII." },
            { id: 16, name: "Alnwick Castle", type: "Landscape", lat: 55.4156, lng: -1.7059, desc: "The 'Harry Potter' castle.", parking: "NE66 1YU", history: "Seat of the Duke of Northumberland." },
            { id: 17, name: "Cragside House", type: "Landscape", lat: 55.3134, lng: -1.8845, desc: "Victorian architecture.", parking: "NE65 7PX", history: "First house lit by hydroelectric power." },
            { id: 18, name: "Housesteads", type: "Landscape", lat: 55.0135, lng: -2.3283, desc: "Complete Roman fort.", parking: "NE47 6NN", history: "Built around 124 AD." },
            { id: 19, name: "Blyth Beach Huts", type: "Landscape", lat: 55.1207, lng: -1.5034, desc: "Vibrant, colorful huts.", parking: "NE24 3PL", history: "Modern regeneration site." },
            { id: 20, name: "Northumberlandia", type: "Landscape", lat: 55.0934, lng: -1.6288, desc: "Human landform sculpture.", parking: "NE23 8AU", history: "Completed in 2012." },
            { id: 21, name: "Linhope Spout", type: "Landscape", lat: 55.4437, lng: -2.0634, desc: "Spectacular 18m chute waterfall.", parking: "NE66 4LZ", history: "Breamish Valley location." },
            { id: 22, name: "Twizell Castle", type: "Landscape", lat: 55.6835, lng: -2.1895, desc: "Unfinished gothic folly.", parking: "TD15 2PS", history: "Begun in 1770." },
            { id: 23, name: "Simonside Hills", type: "Landscape", lat: 55.2890, lng: -1.9480, desc: "360-degree views of Cheviots.", parking: "NE65 7NW", history: "Rich in local folklore." },
            { id: 24, name: "Cresswell Pond", type: "Wildlife", lat: 55.2289, lng: -1.5434, desc: "Brackish lagoon for waders.", parking: "NE61 5LF", history: "Formed by mining subsidence." },
            { id: 25, name: "Holystone Woods", type: "Wildlife", lat: 55.3235, lng: -2.0678, desc: "Native oak woodland.", parking: "NE65 7AJ", history: "Associated with St. Ninian." },
            { id: 26, name: "The Cheviot", type: "Wildlife", lat: 55.4795, lng: -2.1466, desc: "Highest peak in the county.", parking: "NE71 6RJ", history: "An extinct volcano." },
            { id: 27, name: "Hareshaw Linn", type: "Wildlife", lat: 55.1557, lng: -2.2420, desc: "Ancient ravine waterfall.", parking: "NE48 2BZ", history: "Once an ironworks site." },
            { id: 28, name: "Elf Kirk", type: "Astro", lat: 55.2045, lng: -2.5367, desc: "Deep forest dark sky site.", parking: "NE48 1HX", history: "Zero light pollution." },
            { id: 29, name: "Wooler Common", type: "Astro", lat: 55.5412, lng: -2.0345, desc: "Great low horizons.", parking: "NE71 6RL", history: "Ancient common land." },
            { id: 30, name: "Stonehaugh", type: "Astro", lat: 55.0877, lng: -2.3166, desc: "Stargazing pavilion.", parking: "NE48 3DZ", history: "Architecture student project." }
        ];

        const GUIDES = [
            { 
                id: 1, title: "Hyperfocal Distance", cat: "Landscape", time: "15 min", 
                fundamentals: "The hyperfocal distance is the closest distance at which a lens can be focused while keeping objects at infinity acceptably sharp. When you focus at the hyperfocal distance, your depth of field extends from half that distance to infinity. This is crucial for landscapes where you have a prominent foreground subject (like the rocks at Bamburgh) but also want the distant castle to stay crisp. To calculate this, you need to consider your focal length and aperture (e.g., 24mm at f/11). \n\nSTEPS: 1. Use an app or table to find the distance. 2. Switch to manual focus. 3. Set the distance on your lens's scale. 4. Use a tripod to ensure no movement during the longer shutter speed required by a small aperture.",
                impact: "Maximizing sharpness across the entire frame creates a professional, immersive feel that draws the viewer's eye from the bottom of the photo to the horizon without any blurry 'dead zones'.",
                proTip: "If you don't have an app, focus roughly one-third of the way into the scene; this is a reliable 'field rule' for achieving decent front-to-back sharpness."
            },
            { 
                id: 2, title: "Long Exposure Waterscapes", cat: "Landscape", time: "12 min", 
                fundamentals: "Long exposure involves using a slow shutter speed (from 0.5 seconds to several minutes) to blur the movement of water or clouds. In Northumberland, this is essential for turning the North Sea into a smooth mist around the base of St Mary's Lighthouse. \n\nTECHNIQUE: 1. Secure your camera on a heavy tripod. 2. Use a Neutral Density (ND) filter to block light, allowing for slower speeds. 3. Use a remote shutter or the 2-second timer to prevent camera shake from your finger. 4. Shoot in Manual mode to maintain consistency across shots.",
                impact: "It simplifies a busy, chaotic scene. By smoothing out waves, you emphasize the stationary, permanent structures of the landscape, creating a sense of peace and artistic abstraction.",
                proTip: "Time your shots with the outgoing tide; the retreating water creates beautiful 'streaks' that lead the eye toward your subject."
            },
            { 
                id: 3, title: "The Rule of Thirds & Beyond", cat: "Landscape", time: "10 min", 
                fundamentals: "Composition is the arrangement of elements in your frame. The Rule of Thirds suggests dividing the frame into a 3x3 grid and placing key elements on the lines or intersections. For Northumberland's vast skies, placing the horizon on the bottom third emphasizes the clouds. For the coast, placing the horizon on the top third emphasizes the beach textures. \n\nADVANCED: Consider the 'Golden Ratio' or 'Leading Lines' (like the pier at Blyth) to create a more natural flow for the eye.",
                impact: "Good composition transforms a snapshot into a story. It creates balance and tension, guiding the viewer through the image in a deliberate way.",
                proTip: "Break the rule for symmetry! If you're shooting the Blyth Beach Huts, center them perfectly to emphasize their rhythmic pattern."
            },
            { 
                id: 4, title: "Focus Stacking Techniques", cat: "Landscape", time: "18 min", 
                fundamentals: "Sometimes, even at f/16, you cannot get a very close foreground and a distant background sharp in one shot. Focus stacking is the solution. You take multiple photos (usually 3-5) of the exact same scene, shifting the focus point from the closest object to the furthest. \n\nWORKFLOW: 1. Use a tripod—frames must align perfectly. 2. Shoot in Manual. 3. Take shot 1 focused on the immediate foreground. 4. Take shot 2 focused slightly further back. 5. Repeat until you reach infinity. 6. Merge in post-processing software.",
                impact: "This allows you to use the 'sweet spot' of your lens (usually f/5.6 or f/8) where it is sharpest, rather than stopping down to f/22 and suffering from diffraction blur.",
                proTip: "Check your first and last shots immediately on-screen to ensure you didn't miss the 'front' or 'back' of the focus range."
            },
            { 
                id: 5, title: "Polarizing for Clarity", cat: "Landscape", time: "11 min", 
                fundamentals: "A Circular Polarizer is the most important filter for landscape work. It works by filtering out light that has been polarized by reflection. It reduces glare on wet rocks, removes reflections from the surface of the sea (revealing the 'Black Rocks' at Bamburgh), and increases color saturation in the sky. \n\nUSAGE: 1. Screw the filter onto the lens. 2. Rotate the outer ring while looking through the viewfinder. 3. You will see the reflections vanish and the blue of the sky deepen.",
                impact: "It achieves an effect that is impossible to replicate in Photoshop. It adds 'punch' and clarity to images by removing the haze caused by reflected light.",
                proTip: "Polarizers are most effective when the sun is at a 90-degree angle to your camera. Avoid using them on extreme wide-angle lenses (under 16mm) as they can cause uneven dark patches in the sky."
            },
            { 
                id: 6, title: "Exposure Bracketing", cat: "Landscape", time: "10 min", 
                fundamentals: "Northumberland sunrises often have a huge dynamic range—the sun is too bright and the shadows are too dark for the camera sensor to capture in one shot. Bracketing involves taking one 'normal' exposure, one underexposed (to save sky detail), and one overexposed (to save shadow detail). \n\nSETTINGS: Look for 'AEB' (Auto Exposure Bracketing) in your menu. Set it to 3 shots at 2-stop intervals.",
                impact: "Ensures you never have 'blown out' white skies or 'crushed' black shadows, giving you all the data needed for a perfect edit.",
                proTip: "Even if you don't intend to make an HDR (High Dynamic Range) image, bracketing is great 'insurance' to ensure you caught the best possible single exposure."
            },
            { 
                id: 7, title: "Wildlife: Shutter Priority Mastery", cat: "Wildlife", time: "14 min", 
                fundamentals: "In wildlife photography, speed is everything. Movement is constant. Using Shutter Priority (Tv or S) allows you to lock in a speed that guarantees sharpness, while the camera adjusts the aperture. For large, slow animals like the Chillingham Cattle, 1/500s is enough. For fast-flying Puffins on the Farnes, you need 1/2500s or higher. \n\nCRITICAL STEP: Pair this with 'Auto-ISO' so that if the light drops (a cloud covers the sun), your speed remains fast enough to freeze the action.",
                impact: "The difference between a blurry Puffin and one where you can see the individual feathers is purely down to shutter speed. It removes the risk of 'motion blur' ruining a once-in-a-lifetime moment.",
                proTip: "If you have a very steady hand or a gimbal, try 'Panning' at 1/60s. Move the camera at the same speed as the animal to get a sharp subject against a blurred, artistic background."
            },
            { 
                id: 8, title: "Back-Button Focusing", cat: "Wildlife", time: "12 min", 
                fundamentals: "By default, your camera focuses when you half-press the shutter. Back-button focus moves this function to a button on the back of the camera (usually AF-ON). This separates the act of focusing from the act of taking the picture. \n\nWHY IT WORKS: You can keep the button held down to track a moving bird (Continuous AF), or tap it once to lock focus on a stationary squirrel, and then fire the shutter multiple times without the lens 'hunting' for focus again.",
                impact: "It gives you instant control over when to track and when to lock, drastically increasing your 'hit rate' for sharp images of unpredictable animals.",
                proTip: "It takes about a week of practice to build the muscle memory for this, but once you do, you will never go back to shutter-focusing."
            },
            { 
                id: 9, title: "Ethics of Wildlife Photography", cat: "Wildlife", time: "20 min", 
                fundamentals: "The welfare of the subject must always come before the photograph. Northumberland is home to rare and sensitive species; our presence must be invisible. \n\nDO'S: 1. Use a long telephoto lens (300mm+) to maintain a safe distance. 2. Approach slowly and avoid direct eye contact, which animals perceive as a threat. 3. Learn the animal's behavior to recognize stress signs (e.g., stopping feeding, 'freezing', or alarm calls). 4. Use a silent/electronic shutter to avoid startling animals with 'clack' sounds. \n\nDON'TS: 1. Never 'flush' an animal (forcing it to fly/run) just for an action shot. 2. Do not use playback bird calls to lure species during breeding season. 3. Never bait animals with food. 4. Do not disturb nests or burrows. \n\nLEGALITIES: You MUST stay on Public Rights of Way (designated footpaths/bridleways). Do not climb over fences or walls. Trespassing on private land is illegal and damages the reputation of all photographers. Always respect 'Private Land' and 'No Entry' signage.",
                impact: "Ethical practice ensures that wildlife continues to thrive and that access to these beautiful locations remains open for future generations of photographers.",
                proTip: "If an animal looks directly at your lens and stops what it's doing for more than a few seconds, you are too close. Back away slowly and immediately."
            },
            { 
                id: 10, title: "Background Separation (Bokeh)", cat: "Wildlife", time: "13 min", 
                fundamentals: "A 'busy' background (lots of branches or grass) distracts from the animal. To get a creamy, blurred background, you need a shallow depth of field. This is achieved by: 1. Using a wide aperture (e.g., f/4). 2. Increasing the distance between the subject and the background. 3. Getting as close to the subject as safely possible. \n\nPHYSICS: The longer your lens (e.g., 500mm), the thinner the plane of focus becomes.",
                impact: "Isolating the subject makes the animal 'pop' out of the frame, creating a portrait-like quality that emphasizes the character and eyes of the creature.",
                proTip: "Get down to eye level! Shooting from a high angle (looking down) makes the ground the background. Shooting from eye level puts the distant trees in the background, which blurs much better."
            },
            { 
                id: 11, title: "Animal Eye Auto-Focus", cat: "Wildlife", time: "10 min", 
                fundamentals: "Modern mirrorless cameras have specific 'Animal Eye AF' modes. The camera uses AI to recognize the eye of a bird, dog, or cat and locks the focus point onto it instantly. \n\nSETUP: Ensure your camera is in 'Subject Detection: Animal' and 'Continuous AF' (Servo).",
                impact: "In wildlife, if the eye isn't sharp, the whole photo is a failure. This technology removes the human error of trying to manually move a focus point while a bird is fluttering.",
                proTip: "In very thick brush, the camera might get confused by twigs. Be ready to switch to a 'Small Spot' focus point to manually guide the AF to the eye."
            },
            { 
                id: 12, title: "Stealth & Fieldcraft", cat: "Wildlife", time: "15 min", 
                fundamentals: "Photography is only 20% of the job; fieldcraft is the other 80%. This involves understanding wind direction (so animals don't smell you), using natural cover (hedges/walls), and wearing neutral colors. \n\nADVICE: Move 'one step at a time'. Walk when the animal is busy feeding; stop when it looks up.",
                impact: "Better fieldcraft allows you to get closer to the animal naturally without causing stress, resulting in more relaxed and 'intimate' behaviors on camera.",
                proTip: "Avoid wearing 'loud' fabrics like crinkly waterproofs. Soft fleece or wool is much quieter when you're moving through the woods."
            },
            { 
                id: 13, title: "Understanding Animal Behavior", cat: "Wildlife", time: "12 min", 
                fundamentals: "Predicting the shot is better than reacting to it. Spend time watching your subject without the camera. Do the birds always land on the same branch? Does the deer move toward the water at a specific time? \n\nKNOWLEDGE: Research your target species' habits—breeding seasons, feeding times, and preferred habitats in Northumberland.",
                impact: "Predictive shooting leads to much better compositions because you can set up your frame in advance and wait for the animal to walk into it.",
                proTip: "The best wildlife photos happen at the 'edges' of the day (dawn/dusk). Most animals are crepuscular, meaning they are most active during these low-light periods."
            },
            { 
                id: 14, title: "The 500 Rule for Stars", cat: "Astro", time: "11 min", 
                fundamentals: "Because the Earth rotates, stars will 'streak' across your frame if your exposure is too long. The 500 Rule helps you find the longest shutter speed you can use before stars start to blur. \n\nFORMULA: 500 ÷ Focal Length = Max Seconds. (e.g., 500 ÷ 20mm = 25 seconds). If you have a 'crop sensor' camera, you must multiply the focal length first (e.g., 20mm x 1.5 = 30mm; 500 ÷ 30 = 16 seconds).",
                impact: "This ensures the stars appear as sharp, brilliant pinpricks of light rather than blurry white lines, which is the mark of a high-quality astro-photo.",
                proTip: "Modern high-resolution sensors are very sensitive; many pros now use the '400 Rule' or even '300 Rule' to be extra safe for large prints."
            },
            { 
                id: 15, title: "Astro: Manual Focus in the Dark", cat: "Astro", time: "13 min", 
                fundamentals: "Your camera cannot autofocus on the dark sky. You must use manual focus. 1. Turn on 'Live View' on your screen. 2. Find the brightest star or a distant light. 3. Use the digital zoom (10x) on your screen to look closely at that star. 4. Rotate the focus ring until the star is the smallest possible dot. 5. If the star looks like a 'donut' or a large blob, you are out of focus.",
                impact: "In astro-photography, focus is the hardest part. If it's off by even a millimeter, the entire night's work is wasted. Precise focus brings out the true colors of stars.",
                proTip: "Once you have found perfect focus, use a small piece of electrical tape to secure the focus ring so it doesn't move during the night."
            },
            { 
                id: 16, title: "Light Painting for Foregrounds", cat: "Astro", time: "10 min", 
                fundamentals: "In a 25-second astro exposure, the sky will be bright but the ground (like the Roman wall) will be a black silhouette. Light painting involves using a low-power torch or your phone screen to 'brush' light onto the foreground during the exposure. \n\nTECHNIQUE: Don't point the light directly at the subject for the whole time. Just 'sweep' it across for 1-2 seconds from a side angle to create depth and shadows.",
                impact: "It brings a sense of place and scale to the stars, making the image a 'Landscape-Astro' hybrid rather than just a photo of the sky.",
                proTip: "Use a 'warm' light source or a gel. Standard LED torches are very blue and look unnatural in a night scene."
            },
            { 
                id: 17, title: "ISO & Noise Management", cat: "Astro", time: "14 min", 
                fundamentals: "To capture the Milky Way, you need a high ISO (usually 3200 or 6400). This introduces 'noise' (grain). Understanding your camera's limits is key. \n\nMITIGATION: 1. Turn off 'Long Exposure Noise Reduction' in camera (it doubles your wait time). 2. Use 'Long Exposure Stacking' in post-processing. 3. Keep the sensor cool—high heat increases noise.",
                impact: "Clean, low-noise images allow for much better color grading and larger prints without the distracting 'sand' look of high-ISO grain.",
                proTip: "Always shoot in RAW. RAW files allow noise-reduction software to work much more effectively than JPEG files."
            },
            { 
                id: 18, title: "The Rule of 600 (Star Trails)", cat: "Astro", time: "12 min", 
                fundamentals: "If you WANT star trails, you go in the opposite direction of the 500 Rule. You take very long exposures (minutes) or many short ones (stacking). To get circular trails, you must find Polaris (the North Star) and center your frame on it.",
                impact: "It visualizes the rotation of the Earth, creating a mesmerizing, cosmic effect that looks otherworldly.",
                proTip: "Take 100 x 30-second shots and merge them in software like 'StarStaX'. This is safer than one 50-minute shot, which would likely overheat your sensor or be ruined by a single car headlight."
            },
            { 
                id: 19, title: "Planning with Apps (PhotoPills)", cat: "Astro", time: "10 min", 
                fundamentals: "The Milky Way isn't always visible. It changes position based on the time of year and time of night. Using apps like PhotoPills allows you to use Augmented Reality (AR) to see exactly where the Milky Way will rise behind Bamburgh Castle months in advance.",
                impact: "It saves you from driving for hours only to find the Milky Way is behind you or blocked by a hill. Success in astro is 90% planning.",
                proTip: "Look for the 'New Moon' phase. Any moonlight will wash out the fainter stars and the Milky Way core."
            },
            { 
                id: 20, title: "Nightscape Composition", cat: "Astro", time: "11 min", 
                fundamentals: "Don't just point the camera up. The best astro shots have a strong 'Anchor' in the foreground. Use the silhouette of Dunstanburgh Castle or a lone tree on the Cheviots to give the sky context. \n\nADVICE: Keep the horizon low (bottom 20% of the frame) to let the sky dominate.",
                impact: "An anchor provides a sense of scale, helping the viewer realize just how vast and magnificent the Northumberland night sky truly is.",
                proTip: "Wait for the 'Blue Hour' just before total darkness to capture your foreground detail, then don't move the tripod and wait for the stars. You can blend them later for a perfect result."
            }
        ];

        const App = () => {
            const [activeTab, setActiveTab] = useState('home');
            const [selectedLoc, setSelectedLoc] = useState(null);
            const [selectedTopic, setSelectedTopic] = useState(null);
            const mapContainerRef = useRef(null);
            const mapInstanceRef = useRef(null);

            useEffect(() => {
                if (activeTab === 'locations' && !mapInstanceRef.current) {
                    mapInstanceRef.current = L.map(mapContainerRef.current, { zoomControl: false }).setView([55.25, -2.0], 9);
                    L.tileLayer('https://{s}.basemaps.cartocdn.com/rastertiles/voyager/{z}/{x}/{y}{r}.png').addTo(mapInstanceRef.current);
                    LOCATIONS.forEach(loc => {
                        const marker = L.circleMarker([loc.lat, loc.lng], { radius: 8, fillColor: '#0ea5e9', color: "#fff", weight: 3, fillOpacity: 1 }).addTo(mapInstanceRef.current);
                        marker.on('click', () => setSelectedLoc(loc));
                    });
                }
            }, [activeTab]);

            return (
                <div className="min-h-screen bg-white">
                    <nav className="fixed top-0 w-full z-50 bg-white/90 backdrop-blur-md border-b border-slate-100 h-20 flex items-center justify-between px-8">
                        <div className="flex items-center space-x-3 cursor-pointer" onClick={() => setActiveTab('home')}>
                            <div className="w-10 h-10 bg-slate-900 rounded-xl flex items-center justify-center"><Icon name="camera" className="text-white" size={18} /></div>
                            <span className="font-black text-xl tracking-tighter uppercase">NorthernPixl</span>
                        </div>
                        <div className="flex space-x-10 text-[11px] font-black uppercase tracking-widest text-slate-400">
                            {['locations', 'learn'].map(t => (
                                <button key={t} onClick={() => setActiveTab(t)} className={`hover:text-black ${activeTab === t ? 'text-black' : ''}`}>{t}</button>
                            ))}
                        </div>
                    </nav>

                    <main className="pt-20">
                        {activeTab === 'home' && (
                            <section className="h-[90vh] flex flex-col items-center justify-center text-center px-6 bg-slate-900 text-white">
                                <h1 className="text-7xl md:text-9xl font-black tracking-tighter mb-8">NORTHERN <br/><span className="text-sky-500">EXPOSURE.</span></h1>
                                <p className="text-xl text-slate-400 max-w-2xl mb-12">The definitive field guide for Northumberland photographers. 20 masterclasses for the wilderness.</p>
                                <div className="flex gap-4">
                                    <button onClick={() => setActiveTab('locations')} className="bg-white text-black px-10 py-5 rounded-full font-black uppercase text-xs tracking-widest">Explore Map</button>
                                    <button onClick={() => setActiveTab('learn')} className="bg-slate-800 text-white border border-white/10 px-10 py-5 rounded-full font-black uppercase text-xs tracking-widest">Start Learning</button>
                                </div>
                            </section>
                        )}

                        {activeTab === 'locations' && (
                            <section className="max-w-7xl mx-auto px-6 py-20">
                                <div className="grid lg:grid-cols-12 gap-12 h-[600px]">
                                    <div className="lg:col-span-8 h-full rounded-[3rem] overflow-hidden border border-slate-100 shadow-2xl" ref={mapContainerRef}></div>
                                    <div className="lg:col-span-4 bg-white rounded-[3rem] p-10 border border-slate-100 flex flex-col justify-center overflow-y-auto custom-scrollbar">
                                        {selectedLoc ? (
                                            <div className="animate-in space-y-6">
                                                <span className="text-[10px] font-black uppercase tracking-widest px-2 py-1 rounded bg-sky-500 text-white">{selectedLoc.type}</span>
                                                <h3 className="text-4xl font-black">{selectedLoc.name}</h3>
                                                <p className="text-sm text-slate-500">{selectedLoc.history}</p>
                                                <div className="bg-slate-50 p-4 rounded-2xl border border-slate-100">
                                                    <p className="text-[9px] font-black uppercase text-slate-400 mb-1">Field Advice</p>
                                                    <p className="text-sm font-bold">{selectedLoc.desc}</p>
                                                </div>
                                                <p className="text-[11px] font-bold text-slate-400">PARKING: {selectedLoc.parking}</p>
                                            </div>
                                        ) : <p className="text-slate-400 font-black uppercase tracking-widest text-xs text-center">Select a marker on the map to view scout details</p>}
                                    </div>
                                </div>
                            </section>
                        )}

                        {activeTab === 'learn' && (
                            <section className="max-w-7xl mx-auto px-6 py-20">
                                <div className="mb-12"><h2 className="text-5xl font-black uppercase tracking-tighter">Field Guides</h2><p className="text-slate-400">20 Detailed technical modules for Astro, Wildlife, and Landscape.</p></div>
                                <div className="grid md:grid-cols-2 lg:grid-cols-3 gap-8">
                                    {GUIDES.map(guide => (
                                        <div key={guide.id} onClick={() => setSelectedTopic(guide)} className="bg-white border border-slate-100 p-10 rounded-[2.5rem] shadow-sm hover:shadow-xl transition-all cursor-pointer">
                                            <span className="text-[10px] font-black uppercase text-sky-500 mb-4 block tracking-widest">{guide.cat} • {guide.time}</span>
                                            <h3 className="text-2xl font-black mb-4">{guide.title}</h3>
                                            <p className="text-slate-400 text-xs line-clamp-3 leading-relaxed">{guide.impact}</p>
                                        </div>
                                    ))}
                                </div>
                            </section>
                        )}
                    </main>

                    {selectedTopic && (
                        <div className="fixed inset-0 z-[100] bg-white overflow-y-auto p-8 md:p-20 animate-in custom-scrollbar">
                            <div className="max-w-3xl mx-auto">
                                <button onClick={() => setSelectedTopic(null)} className="mb-12 flex items-center space-x-2 text-slate-400 font-black uppercase text-[10px] tracking-widest"><Icon name="x" size={14} /> <span>Close Module</span></button>
                                <span className="text-sky-500 font-black uppercase text-xs tracking-[0.3em] mb-4 block">{selectedTopic.cat}</span>
                                <h2 className="text-5xl md:text-7xl font-black tracking-tighter mb-12 leading-none">{selectedTopic.title}</h2>
                                <div className="space-y-12">
                                    <div>
                                        <h4 className="text-[10px] font-black uppercase tracking-widest text-slate-400 mb-6 pb-2 border-b">1. Detailed Technical Explanation</h4>
                                        <p className="text-lg text-slate-700 leading-relaxed whitespace-pre-line">{selectedTopic.fundamentals}</p>
                                    </div>
                                    <div>
                                        <h4 className="text-[10px] font-black uppercase tracking-widest text-slate-400 mb-6 pb-2 border-b">2. Why This Matters</h4>
                                        <p className="text-lg text-slate-700 leading-relaxed">{selectedTopic.impact}</p>
                                    </div>
                                    <div className="bg-sky-50 p-10 rounded-[3rem] border border-sky-100">
                                        <h4 className="text-[10px] font-black uppercase tracking-widest text-sky-600 mb-4">Field Pro Tip</h4>
                                        <p className="text-2xl font-bold text-slate-800 italic leading-snug">"{selectedTopic.proTip}"</p>
                                    </div>
                                </div>
                                <div className="mt-20 pt-10 border-t flex justify-center">
                                     <button onClick={() => setSelectedTopic(null)} className="bg-slate-900 text-white px-12 py-5 rounded-full font-black uppercase text-xs tracking-widest">Back to Field Guide</button>
                                </div>
                            </div>
                        </div>
                    )}
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
